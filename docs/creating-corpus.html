<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Creating Corpus | Corpus Linguistics</title>
  <meta name="description" content="ENC2036 Course material first edition" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Creating Corpus | Corpus Linguistics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="ENC2036 Course material first edition" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Creating Corpus | Corpus Linguistics" />
  
  <meta name="twitter:description" content="ENC2036 Course material first edition" />
  

<meta name="author" content="Alvin Chen" />


<meta name="date" content="2020-03-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-fundamentals.html"/>
<link rel="next" href="corpus-analysis-a-start.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="libs/font-awesome-5.3.1/css/fontawesome-all.min.css" rel="stylesheet" />


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://alvinntnu.github.io/NTNU_ENC2036/"><img src="images/alerts/home.svg" height = "20" width = "20"> Course Website</a></li>
<li><a href="./"><img src="images/alerts/book-solid.svg" height = "20" width = "20"> ENC 2036 Corpus Linguistics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-objective"><i class="fa fa-check"></i>Course Objective</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#textbook"><i class="fa fa-check"></i>Textbook</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-website"><i class="fa fa-check"></i>Course Website</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-demo-data"><i class="fa fa-check"></i>Course Demo Data</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#necessary-packages"><i class="fa fa-check"></i>Necessary Packages</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="what-is-corpus-linguistics.html"><a href="what-is-corpus-linguistics.html"><i class="fa fa-check"></i><b>1</b> What is Corpus Linguistics?</a><ul>
<li class="chapter" data-level="1.1" data-path="what-is-corpus-linguistics.html"><a href="what-is-corpus-linguistics.html#why-do-we-need-corpus-data"><i class="fa fa-check"></i><b>1.1</b> Why do we need corpus data?</a></li>
<li class="chapter" data-level="1.2" data-path="what-is-corpus-linguistics.html"><a href="what-is-corpus-linguistics.html#what-is-corpus"><i class="fa fa-check"></i><b>1.2</b> What is corpus?</a></li>
<li class="chapter" data-level="1.3" data-path="what-is-corpus-linguistics.html"><a href="what-is-corpus-linguistics.html#what-is-a-corpus-linguistic-study"><i class="fa fa-check"></i><b>1.3</b> What is a corpus linguistic study?</a></li>
<li class="chapter" data-level="1.4" data-path="what-is-corpus-linguistics.html"><a href="what-is-corpus-linguistics.html#additional-information-on-cl"><i class="fa fa-check"></i><b>1.4</b> Additional Information on CL</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-fundamentals.html"><a href="r-fundamentals.html"><i class="fa fa-check"></i><b>2</b> R Fundamentals</a><ul>
<li class="chapter" data-level="" data-path="r-fundamentals.html"><a href="r-fundamentals.html#a-quick-note"><i class="fa fa-check"></i>A Quick Note</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="creating-corpus.html"><a href="creating-corpus.html"><i class="fa fa-check"></i><b>3</b> Creating Corpus</a><ul>
<li class="chapter" data-level="3.1" data-path="creating-corpus.html"><a href="creating-corpus.html#html-structure"><i class="fa fa-check"></i><b>3.1</b> HTML Structure</a><ul>
<li class="chapter" data-level="3.1.1" data-path="creating-corpus.html"><a href="creating-corpus.html#html-syntax"><i class="fa fa-check"></i><b>3.1.1</b> HTML Syntax</a></li>
<li class="chapter" data-level="3.1.2" data-path="creating-corpus.html"><a href="creating-corpus.html#tags-and-attributes"><i class="fa fa-check"></i><b>3.1.2</b> Tags and Attributes</a></li>
<li class="chapter" data-level="3.1.3" data-path="creating-corpus.html"><a href="creating-corpus.html#css"><i class="fa fa-check"></i><b>3.1.3</b> CSS</a></li>
<li class="chapter" data-level="3.1.4" data-path="creating-corpus.html"><a href="creating-corpus.html#html-css-javascript"><i class="fa fa-check"></i><b>3.1.4</b> HTML + CSS ( + JavaScript)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="creating-corpus.html"><a href="creating-corpus.html#web-crawling"><i class="fa fa-check"></i><b>3.2</b> Web Crawling</a></li>
<li class="chapter" data-level="3.3" data-path="creating-corpus.html"><a href="creating-corpus.html#functional-programming"><i class="fa fa-check"></i><b>3.3</b> Functional Programming</a></li>
<li class="chapter" data-level="3.4" data-path="creating-corpus.html"><a href="creating-corpus.html#save-corpus"><i class="fa fa-check"></i><b>3.4</b> Save Corpus</a></li>
<li class="chapter" data-level="3.5" data-path="creating-corpus.html"><a href="creating-corpus.html#additional-resourcess"><i class="fa fa-check"></i><b>3.5</b> Additional Resourcess</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html"><i class="fa fa-check"></i><b>4</b> Corpus Analysis: A Start</a><ul>
<li class="chapter" data-level="4.1" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#installing-quanteda"><i class="fa fa-check"></i><b>4.1</b> Installing <code>quanteda</code></a></li>
<li class="chapter" data-level="4.2" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#building-a-corpus-from-character-vector"><i class="fa fa-check"></i><b>4.2</b> Building a <code>corpus</code> from character vector</a></li>
<li class="chapter" data-level="4.3" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#keyword-in-context-kwic"><i class="fa fa-check"></i><b>4.3</b> Keyword-in-Context (KWIC)</a></li>
<li class="chapter" data-level="4.4" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#kwic-with-regular-expressions"><i class="fa fa-check"></i><b>4.4</b> KWIC with Regular Expressions</a></li>
<li class="chapter" data-level="4.5" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#tidy-text-format-of-the-corpus"><i class="fa fa-check"></i><b>4.5</b> Tidy Text Format of the Corpus</a></li>
<li class="chapter" data-level="4.6" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#frequency-lists"><i class="fa fa-check"></i><b>4.6</b> Frequency Lists</a><ul>
<li class="chapter" data-level="4.6.1" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#word-unigram"><i class="fa fa-check"></i><b>4.6.1</b> Word (Unigram)</a></li>
<li class="chapter" data-level="4.6.2" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#bigrams"><i class="fa fa-check"></i><b>4.6.2</b> Bigrams</a></li>
<li class="chapter" data-level="4.6.3" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#ngrams-lexical-bundles"><i class="fa fa-check"></i><b>4.6.3</b> Ngrams (Lexical Bundles)</a></li>
<li class="chapter" data-level="4.6.4" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#frequency-and-dispersion"><i class="fa fa-check"></i><b>4.6.4</b> Frequency and Dispersion</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#word-cloud"><i class="fa fa-check"></i><b>4.7</b> Word Cloud</a></li>
<li class="chapter" data-level="4.8" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#collocations"><i class="fa fa-check"></i><b>4.8</b> Collocations</a><ul>
<li class="chapter" data-level="4.8.1" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#cooccurrence-table-and-observed-frequencies"><i class="fa fa-check"></i><b>4.8.1</b> Cooccurrence Table and Observed Frequencies</a></li>
<li class="chapter" data-level="4.8.2" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#expected-frequencies"><i class="fa fa-check"></i><b>4.8.2</b> Expected Frequencies</a></li>
<li class="chapter" data-level="4.8.3" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#association-measures"><i class="fa fa-check"></i><b>4.8.3</b> Association Measures</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#constructions"><i class="fa fa-check"></i><b>4.9</b> Constructions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html"><i class="fa fa-check"></i><b>5</b> Parts-of-Speech Tagging</a><ul>
<li class="chapter" data-level="5.1" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#installing-the-package"><i class="fa fa-check"></i><b>5.1</b> Installing the Package</a></li>
<li class="chapter" data-level="5.2" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#quick-overview"><i class="fa fa-check"></i><b>5.2</b> Quick Overview</a></li>
<li class="chapter" data-level="5.3" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#working-pipeline"><i class="fa fa-check"></i><b>5.3</b> Working Pipeline</a></li>
<li class="chapter" data-level="5.4" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#parsing-your-text"><i class="fa fa-check"></i><b>5.4</b> Parsing Your Text</a></li>
<li class="chapter" data-level="5.5" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#metalingusitic-analysis"><i class="fa fa-check"></i><b>5.5</b> Metalingusitic Analysis</a></li>
<li class="chapter" data-level="5.6" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#construction-analysis"><i class="fa fa-check"></i><b>5.6</b> Construction Analysis</a></li>
<li class="chapter" data-level="5.7" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#issues-on-pattern-retrieval"><i class="fa fa-check"></i><b>5.7</b> Issues on Pattern Retrieval</a></li>
<li class="chapter" data-level="5.8" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#saving-pos-tagged-texts"><i class="fa fa-check"></i><b>5.8</b> Saving POS-tagged Texts</a></li>
<li class="chapter" data-level="5.9" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#finalize-spacy"><i class="fa fa-check"></i><b>5.9</b> Finalize spaCy</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="keyword-analysis.html"><a href="keyword-analysis.html"><i class="fa fa-check"></i><b>6</b> Keyword Analysis</a><ul>
<li class="chapter" data-level="6.1" data-path="keyword-analysis.html"><a href="keyword-analysis.html#about-keywords"><i class="fa fa-check"></i><b>6.1</b> About Keywords</a></li>
<li class="chapter" data-level="6.2" data-path="keyword-analysis.html"><a href="keyword-analysis.html#statistics-for-keyness"><i class="fa fa-check"></i><b>6.2</b> Statistics for Keyness</a></li>
<li class="chapter" data-level="6.3" data-path="keyword-analysis.html"><a href="keyword-analysis.html#implementation"><i class="fa fa-check"></i><b>6.3</b> Implementation</a></li>
<li class="chapter" data-level="6.4" data-path="keyword-analysis.html"><a href="keyword-analysis.html#tidy-data"><i class="fa fa-check"></i><b>6.4</b> Tidy Data</a><ul>
<li class="chapter" data-level="6.4.1" data-path="keyword-analysis.html"><a href="keyword-analysis.html#an-long-to-wide-example"><i class="fa fa-check"></i><b>6.4.1</b> An Long-to-Wide Example</a></li>
<li class="chapter" data-level="6.4.2" data-path="keyword-analysis.html"><a href="keyword-analysis.html#a-wide-to-long-example"><i class="fa fa-check"></i><b>6.4.2</b> A Wide-to-Long Example</a></li>
<li class="chapter" data-level="6.4.3" data-path="keyword-analysis.html"><a href="keyword-analysis.html#word-frequency-transformation"><i class="fa fa-check"></i><b>6.4.3</b> Word Frequency Transformation</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="keyword-analysis.html"><a href="keyword-analysis.html#computing-keynesss"><i class="fa fa-check"></i><b>6.5</b> Computing Keynesss</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html"><i class="fa fa-check"></i><b>7</b> Constructions and Idioms</a><ul>
<li class="chapter" data-level="7.1" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#chinese-four-character-idioms"><i class="fa fa-check"></i><b>7.1</b> Chinese Four-character Idioms</a></li>
<li class="chapter" data-level="7.2" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#dictionary-entries"><i class="fa fa-check"></i><b>7.2</b> Dictionary Entries</a></li>
<li class="chapter" data-level="7.3" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#case-study-x來y去"><i class="fa fa-check"></i><b>7.3</b> Case Study: <code>X來Y去</code></a></li>
<li class="chapter" data-level="7.4" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#semantic-network-of-__來__去"><i class="fa fa-check"></i><b>7.4</b> Semantic Network of <code>__來__去</code></a></li>
<li class="chapter" data-level="7.5" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#semantic-network-of-一__一__"><i class="fa fa-check"></i><b>7.5</b> Semantic Network of <code>一__一__</code></a></li>
<li class="chapter" data-level="7.6" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#exercises"><i class="fa fa-check"></i><b>7.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html"><i class="fa fa-check"></i><b>8</b> Chinese Text Processing</a><ul>
<li class="chapter" data-level="8.1" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#chinese-word-segmenter-jiebar"><i class="fa fa-check"></i><b>8.1</b> Chinese Word Segmenter <code>jiebaR</code></a><ul>
<li class="chapter" data-level="8.1.1" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#start"><i class="fa fa-check"></i><b>8.1.1</b> Start</a></li>
<li class="chapter" data-level="8.1.2" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#settings"><i class="fa fa-check"></i><b>8.1.2</b> Settings</a></li>
<li class="chapter" data-level="8.1.3" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#user-defined-dictionary"><i class="fa fa-check"></i><b>8.1.3</b> User-defined dictionary</a></li>
<li class="chapter" data-level="8.1.4" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#stopwords"><i class="fa fa-check"></i><b>8.1.4</b> Stopwords</a></li>
<li class="chapter" data-level="8.1.5" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#pos-tagging"><i class="fa fa-check"></i><b>8.1.5</b> POS Tagging</a></li>
<li class="chapter" data-level="8.1.6" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#default"><i class="fa fa-check"></i><b>8.1.6</b> Default</a></li>
<li class="chapter" data-level="8.1.7" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#reminder"><i class="fa fa-check"></i><b>8.1.7</b> Reminder</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#chinese-text-analytics-pipeline"><i class="fa fa-check"></i><b>8.2</b> Chinese Text Analytics Pipeline</a></li>
<li class="chapter" data-level="8.3" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#loading-text-data"><i class="fa fa-check"></i><b>8.3</b> Loading Text Data</a></li>
<li class="chapter" data-level="8.4" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#case-study-1-word-frequency-and-wordcloud"><i class="fa fa-check"></i><b>8.4</b> Case Study 1: Word Frequency and Wordcloud</a></li>
<li class="chapter" data-level="8.5" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#case-study-2-patterns"><i class="fa fa-check"></i><b>8.5</b> Case Study 2: Patterns</a><ul>
<li class="chapter" data-level="8.5.1" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#define-own-tokenization-functions"><i class="fa fa-check"></i><b>8.5.1</b> Define Own Tokenization Functions</a></li>
<li class="chapter" data-level="8.5.2" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#transform-text-based-to-token-based-data-frame"><i class="fa fa-check"></i><b>8.5.2</b> Transform Text-Based to Token-Based Data Frame</a></li>
<li class="chapter" data-level="8.5.3" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#bei-construction"><i class="fa fa-check"></i><b>8.5.3</b> BEI Construction</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#case-study-3-lexical-bundles"><i class="fa fa-check"></i><b>8.6</b> Case Study 3: Lexical Bundles</a><ul>
<li class="chapter" data-level="8.6.1" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#n-grams-extraction"><i class="fa fa-check"></i><b>8.6.1</b> N-grams Extraction</a></li>
<li class="chapter" data-level="8.6.2" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#frequency-and-dispersion-1"><i class="fa fa-check"></i><b>8.6.2</b> Frequency and Dispersion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ckiptagger.html"><a href="ckiptagger.html"><i class="fa fa-check"></i><b>9</b> CKIP Tagger</a><ul>
<li class="chapter" data-level="9.1" data-path="ckiptagger.html"><a href="ckiptagger.html#installation"><i class="fa fa-check"></i><b>9.1</b> Installation</a></li>
<li class="chapter" data-level="9.2" data-path="ckiptagger.html"><a href="ckiptagger.html#download-the-model-files"><i class="fa fa-check"></i><b>9.2</b> Download the Model Files</a></li>
<li class="chapter" data-level="9.3" data-path="ckiptagger.html"><a href="ckiptagger.html#r-python-communication"><i class="fa fa-check"></i><b>9.3</b> R-Python Communication</a></li>
<li class="chapter" data-level="9.4" data-path="ckiptagger.html"><a href="ckiptagger.html#word-segmentation-in-r"><i class="fa fa-check"></i><b>9.4</b> Word Segmentation in R</a></li>
<li class="chapter" data-level="9.5" data-path="ckiptagger.html"><a href="ckiptagger.html#r-environment-setting"><i class="fa fa-check"></i><b>9.5</b> R Environment Setting</a></li>
<li class="chapter" data-level="9.6" data-path="ckiptagger.html"><a href="ckiptagger.html#loading-python-modules"><i class="fa fa-check"></i><b>9.6</b> Loading Python Modules</a></li>
<li class="chapter" data-level="9.7" data-path="ckiptagger.html"><a href="ckiptagger.html#segmenting-texts"><i class="fa fa-check"></i><b>9.7</b> Segmenting Texts</a></li>
<li class="chapter" data-level="9.8" data-path="ckiptagger.html"><a href="ckiptagger.html#define-own-dictionary"><i class="fa fa-check"></i><b>9.8</b> Define Own Dictionary</a></li>
<li class="chapter" data-level="9.9" data-path="ckiptagger.html"><a href="ckiptagger.html#beyond-word-boundaries"><i class="fa fa-check"></i><b>9.9</b> Beyond Word Boundaries</a></li>
<li class="chapter" data-level="9.10" data-path="ckiptagger.html"><a href="ckiptagger.html#tidy-up-the-results"><i class="fa fa-check"></i><b>9.10</b> Tidy Up the Results</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="structured-corpus.html"><a href="structured-corpus.html"><i class="fa fa-check"></i><b>10</b> Structured Corpus</a><ul>
<li class="chapter" data-level="10.1" data-path="structured-corpus.html"><a href="structured-corpus.html#nccu-spoken-mandarin"><i class="fa fa-check"></i><b>10.1</b> NCCU Spoken Mandarin</a><ul>
<li class="chapter" data-level="10.1.1" data-path="structured-corpus.html"><a href="structured-corpus.html#loading-the-corpus"><i class="fa fa-check"></i><b>10.1.1</b> Loading the Corpus</a></li>
<li class="chapter" data-level="10.1.2" data-path="structured-corpus.html"><a href="structured-corpus.html#line-segmentation"><i class="fa fa-check"></i><b>10.1.2</b> Line Segmentation</a></li>
<li class="chapter" data-level="10.1.3" data-path="structured-corpus.html"><a href="structured-corpus.html#metadata-vs.transcript"><i class="fa fa-check"></i><b>10.1.3</b> Metadata vs. Transcript</a></li>
<li class="chapter" data-level="10.1.4" data-path="structured-corpus.html"><a href="structured-corpus.html#word-tokenization"><i class="fa fa-check"></i><b>10.1.4</b> Word Tokenization</a></li>
<li class="chapter" data-level="10.1.5" data-path="structured-corpus.html"><a href="structured-corpus.html#word-frequencies-and-wordcloud"><i class="fa fa-check"></i><b>10.1.5</b> Word frequencies and Wordcloud</a></li>
<li class="chapter" data-level="10.1.6" data-path="structured-corpus.html"><a href="structured-corpus.html#concordances"><i class="fa fa-check"></i><b>10.1.6</b> Concordances</a></li>
<li class="chapter" data-level="10.1.7" data-path="structured-corpus.html"><a href="structured-corpus.html#collocations-bigrams"><i class="fa fa-check"></i><b>10.1.7</b> Collocations (Bigrams)</a></li>
<li class="chapter" data-level="10.1.8" data-path="structured-corpus.html"><a href="structured-corpus.html#n-grams-lexical-bundles"><i class="fa fa-check"></i><b>10.1.8</b> N-grams (Lexical Bundles)</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="structured-corpus.html"><a href="structured-corpus.html#connecting-spid-to-metadata"><i class="fa fa-check"></i><b>10.2</b> Connecting SPID to Metadata</a></li>
<li class="chapter" data-level="10.3" data-path="structured-corpus.html"><a href="structured-corpus.html#more-socialinguistic-analyses"><i class="fa fa-check"></i><b>10.3</b> More Socialinguistic Analyses</a><ul>
<li class="chapter" data-level="10.3.1" data-path="structured-corpus.html"><a href="structured-corpus.html#check-ngram-distribution-by-age-groups"><i class="fa fa-check"></i><b>10.3.1</b> Check Ngram Distribution By Age Groups</a></li>
<li class="chapter" data-level="10.3.2" data-path="structured-corpus.html"><a href="structured-corpus.html#check-word-distribution-of-different-genders"><i class="fa fa-check"></i><b>10.3.2</b> Check Word Distribution of different genders</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="xml.html"><a href="xml.html"><i class="fa fa-check"></i><b>11</b> XML</a><ul>
<li class="chapter" data-level="11.1" data-path="xml.html"><a href="xml.html#bnc-spoken-2014"><i class="fa fa-check"></i><b>11.1</b> BNC Spoken 2014</a></li>
<li class="chapter" data-level="11.2" data-path="xml.html"><a href="xml.html#process-the-whole-directory-of-bnc2014-sample"><i class="fa fa-check"></i><b>11.2</b> Process the Whole Directory of BNC2014 Sample</a><ul>
<li class="chapter" data-level="11.2.1" data-path="xml.html"><a href="xml.html#define-function"><i class="fa fa-check"></i><b>11.2.1</b> Define Function</a></li>
<li class="chapter" data-level="11.2.2" data-path="xml.html"><a href="xml.html#process-the-all-files-in-the-directory"><i class="fa fa-check"></i><b>11.2.2</b> Process the all files in the Directory</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="xml.html"><a href="xml.html#metadata"><i class="fa fa-check"></i><b>11.3</b> Metadata</a><ul>
<li class="chapter" data-level="11.3.1" data-path="xml.html"><a href="xml.html#text-metadata"><i class="fa fa-check"></i><b>11.3.1</b> Text Metadata</a></li>
<li class="chapter" data-level="11.3.2" data-path="xml.html"><a href="xml.html#speaker-metadata"><i class="fa fa-check"></i><b>11.3.2</b> Speaker Metadata</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="xml.html"><a href="xml.html#bnc2014-for-socialinguistic-variation"><i class="fa fa-check"></i><b>11.4</b> BNC2014 for Socialinguistic Variation</a><ul>
<li class="chapter" data-level="11.4.1" data-path="xml.html"><a href="xml.html#word-frequency-vs.gender"><i class="fa fa-check"></i><b>11.4.1</b> Word Frequency vs. Gender</a></li>
<li class="chapter" data-level="11.4.2" data-path="xml.html"><a href="xml.html#degree-adv-adj"><i class="fa fa-check"></i><b>11.4.2</b> Degree ADV + ADJ</a></li>
<li class="chapter" data-level="11.4.3" data-path="xml.html"><a href="xml.html#trigrams"><i class="fa fa-check"></i><b>11.4.3</b> Trigrams</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="vector-space-representation.html"><a href="vector-space-representation.html"><i class="fa fa-check"></i><b>12</b> Vector Space Representation</a><ul>
<li class="chapter" data-level="12.1" data-path="vector-space-representation.html"><a href="vector-space-representation.html#data-processing-flowchart"><i class="fa fa-check"></i><b>12.1</b> Data Processing Flowchart</a></li>
<li class="chapter" data-level="12.2" data-path="vector-space-representation.html"><a href="vector-space-representation.html#document-feature-matrix-dfm"><i class="fa fa-check"></i><b>12.2</b> Document-Feature Matrix (<code>dfm</code>)</a></li>
<li class="chapter" data-level="12.3" data-path="vector-space-representation.html"><a href="vector-space-representation.html#defining-feature-in-dfm"><i class="fa fa-check"></i><b>12.3</b> Defining <code>Feature</code> in <code>dfm</code></a></li>
<li class="chapter" data-level="12.4" data-path="vector-space-representation.html"><a href="vector-space-representation.html#feature-selection"><i class="fa fa-check"></i><b>12.4</b> Feature Selection</a><ul>
<li class="chapter" data-level="12.4.1" data-path="vector-space-representation.html"><a href="vector-space-representation.html#determining-linguistic-granularity"><i class="fa fa-check"></i><b>12.4.1</b> Determining Linguistic Granularity</a></li>
<li class="chapter" data-level="12.4.2" data-path="vector-space-representation.html"><a href="vector-space-representation.html#stopwords-1"><i class="fa fa-check"></i><b>12.4.2</b> Stopwords</a></li>
<li class="chapter" data-level="12.4.3" data-path="vector-space-representation.html"><a href="vector-space-representation.html#distributional-cut-offs-for-features"><i class="fa fa-check"></i><b>12.4.3</b> Distributional Cut-offs for Features</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="vector-space-representation.html"><a href="vector-space-representation.html#applying-dfm"><i class="fa fa-check"></i><b>12.5</b> Applying DFM</a><ul>
<li class="chapter" data-level="12.5.1" data-path="vector-space-representation.html"><a href="vector-space-representation.html#wordcloud"><i class="fa fa-check"></i><b>12.5.1</b> Wordcloud</a></li>
<li class="chapter" data-level="12.5.2" data-path="vector-space-representation.html"><a href="vector-space-representation.html#document-similarity"><i class="fa fa-check"></i><b>12.5.2</b> Document Similarity</a></li>
<li class="chapter" data-level="12.5.3" data-path="vector-space-representation.html"><a href="vector-space-representation.html#feature-similarity"><i class="fa fa-check"></i><b>12.5.3</b> Feature Similarity</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html"><i class="fa fa-check"></i><b>13</b> Vector Space Representation II</a><ul>
<li class="chapter" data-level="13.1" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#a-quick-view"><i class="fa fa-check"></i><b>13.1</b> A Quick View</a></li>
<li class="chapter" data-level="13.2" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#loading-the-corpus-1"><i class="fa fa-check"></i><b>13.2</b> Loading the Corpus</a></li>
<li class="chapter" data-level="13.3" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#semgentation"><i class="fa fa-check"></i><b>13.3</b> Semgentation</a></li>
<li class="chapter" data-level="13.4" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#corpus-metadata"><i class="fa fa-check"></i><b>13.4</b> Corpus Metadata</a></li>
<li class="chapter" data-level="13.5" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#document-feature-matrix"><i class="fa fa-check"></i><b>13.5</b> Document-Feature Matrix</a></li>
<li class="chapter" data-level="13.6" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#wordcloud-1"><i class="fa fa-check"></i><b>13.6</b> Wordcloud</a></li>
<li class="chapter" data-level="13.7" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#document-similarity-1"><i class="fa fa-check"></i><b>13.7</b> Document Similarity</a></li>
<li class="chapter" data-level="13.8" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#feature-similarity-1"><i class="fa fa-check"></i><b>13.8</b> Feature Similarity</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html"><i class="fa fa-check"></i><b>14</b> Vector Space Representation III</a><ul>
<li class="chapter" data-level="14.1" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html#library"><i class="fa fa-check"></i><b>14.1</b> Library</a></li>
<li class="chapter" data-level="14.2" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html#text-collection"><i class="fa fa-check"></i><b>14.2</b> Text Collection</a></li>
<li class="chapter" data-level="14.3" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html#tokenization-and-vocabulary"><i class="fa fa-check"></i><b>14.3</b> Tokenization and Vocabulary</a></li>
<li class="chapter" data-level="14.4" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html#pruning"><i class="fa fa-check"></i><b>14.4</b> Pruning</a></li>
<li class="chapter" data-level="14.5" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html#term-cooccurrence-matrix"><i class="fa fa-check"></i><b>14.5</b> Term-Cooccurrence Matrix</a></li>
<li class="chapter" data-level="14.6" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html#fitting-model"><i class="fa fa-check"></i><b>14.6</b> Fitting Model</a></li>
<li class="chapter" data-level="14.7" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html#averaging-word-vectors"><i class="fa fa-check"></i><b>14.7</b> Averaging Word Vectors</a></li>
<li class="chapter" data-level="14.8" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html#semantic-space"><i class="fa fa-check"></i><b>14.8</b> Semantic Space</a></li>
<li class="chapter" data-level="14.9" data-path="vector-space-representation-iii.html"><a href="vector-space-representation-iii.html#visualizing-multi-dimensional-space"><i class="fa fa-check"></i><b>14.9</b> Visualizing Multi-dimensional Space</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>15</b> References</a></li>
<li class="divider"></li>
<li><a href="https://web.ntnu.edu.tw/~alvinchen" target ="blank">Alvin Chen </a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Corpus Linguistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="creating-corpus" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Creating Corpus</h1>
<p>Linguistic data are important to us linguists. Data usually tell us something we don’t know, or something we are not sure of. In this chapter, I would like to show you a quick way to extract lingusitic data from web pages, which is by now undoubtedly the largest source of textual data available. While there are many existing text data collections, chances are that sometimes you still need to collect your own data for a particular research question.</p>
<p>Following the spirit of tidy <i class="fab  fa-r-project "></i>, we will mainly do our tasks with the libraries of <code>tidyverse</code> and <code>rvests</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co">## Uncomment the following line for installation</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co"># install.packages(c(&quot;tidyverse&quot;, &quot;rvest&quot;))</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(rvest)</a></code></pre></div>
<div id="html-structure" class="section level2">
<h2><span class="header-section-number">3.1</span> HTML Structure</h2>
<div id="html-syntax" class="section level3">
<h3><span class="header-section-number">3.1.1</span> HTML Syntax</h3>
<p>To illustrate the structure of the HTML, please download the sample <code>html</code> file from: <code>demo_data/data-sample-html.html</code> and first open the with your browser.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">  <span class="kw">&lt;title&gt;</span>My First HTML <span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  </a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">    <span class="kw">&lt;h1&gt;</span> Introduction <span class="kw">&lt;/h1&gt;</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">    <span class="kw">&lt;p&gt;</span> Have you ever read the source code of a html page? <span class="kw">&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>An <code>HTML</code> document includes several important elements (cf. <a href="creating-corpus.html#fig:htmltag">3.1</a>):</p>
<ul>
<li><code>DTD</code>: document type definition which informs the browswer about the version of the HTML standard that the document adheres to (e.g., <code>&lt;!DOCTYPE HTML&gt;</code>)</li>
<li><code>tag</code>: named braces that enclose the content and define its structural function (e.g., <code>title</code>, <code>body</code>, <code>p</code>)</li>
<li><code>element</code>: the combination of start tag, content, and end tag (e.g, <code>&lt;title&gt;My First HTML&lt;/title&gt;</code>)</li>
<li><code>attribute</code>: specific properties of the tag, which are often placed in the start end of the element (e.g., <code>&lt;a href= &quot;index.html&quot;&gt; Homepage &lt;/a&gt;</code>). They are expressed as <code>name = &quot;value&quot;</code> pairs.</li>
</ul>
<!-- ```{r echo=F, purl = F, out.width = "70%"} -->
<!-- htmltools::includeHTML("demo_data/my-first-html.html") -->
<!-- ``` -->
<div class="figure"><span id="fig:htmltag"></span>
<img src="images/html-tag.png" alt="Syntax of An HTML Tag Element" width="90%" />
<p class="caption">
Figure 3.1: Syntax of An HTML Tag Element
</p>
</div>
<p>An <code>HTML</code> document starts with the root element <code>&lt;html&gt;</code>, which splits into two branches, <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code>. Most of the main webpage contents would go into the <code>&lt;body</code>&gt; part. All elements need to be strictly nested within each other in a well-formed and valid HTML file, as shown in Figure <a href="creating-corpus.html#fig:htmltree">3.2</a>.</p>
<div class="figure"><span id="fig:htmltree"></span>
<img src="images/html-tree.png" alt="Tree Structure of An HTML Document" width="648" />
<p class="caption">
Figure 3.2: Tree Structure of An HTML Document
</p>
</div>
</div>
<div id="tags-and-attributes" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Tags and Attributes</h3>
<p>HTML has plenty of legal tags and attributes. On <a href="https://www.w3schools.com/html/html_basic.asp">W3CSchools</a>, there is a complete list of HTML tags and attributes for your reference. Common tags may include:</p>
<ul>
<li>Anchor tag <code>&lt;a&gt;</code></li>
<li>Metadata tag <code>&lt;meta</code>&gt;</li>
<li>External tag <code>&lt;link&gt;</code></li>
<li>Emphasizing tags <code>&lt;b&gt;</code>, <code>&lt;i&gt;</code>, <code>&lt;strong&gt;</code></li>
<li>Paragraph tags <code>&lt;p&gt;</code></li>
<li>Heading tags <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, <code>&lt;h3&gt;</code></li>
<li>Listing content tags <code>&lt;ul&gt;</code>, <code>&lt;ol&gt;</code></li>
<li>Block tags <code>&lt;div&gt;</code>, <code>&lt;span&gt;</code></li>
<li>Form-related tag <code>&lt;form&gt;</code>, <code>&lt;input&gt;</code></li>
<li>Foreign script tag <code>&lt;script&gt;</code></li>
<li>Table tag <code>&lt;table&gt;</code>, <code>&lt;th&gt;</code>, <code>&lt;tr&gt;</code>, <code>&lt;td&gt;</code></li>
</ul>
<p>You probably don’t have to know all the detail about the HTML tags. However, in order to scrape the data from the Internet, you need to know at least from which types of HTML elements you need your textual data from on the web pages.</p>
</div>
<div id="css" class="section level3">
<h3><span class="header-section-number">3.1.3</span> CSS</h3>
<p>Cascading Style Sheet (CSS) is a language for describing the layout of HTML and other markup documents (e.g., XML). HTML + CSS is by now the standard way to create and design web pages. The idea is that CSS specifies the formats/styles of the HTML elements. The following is an example of the CSS:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb3-1" data-line-number="1">div<span class="fu">.warnings</span> {</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  <span class="kw">color</span>: pink;</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  <span class="kw">font-family</span>: <span class="st">&quot;Arial&quot;</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  font-size: <span class="dv">120%</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">h1 {</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">  <span class="kw">padding-top</span>: <span class="dv">20px</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">  padding-bottom: <span class="dv">20px</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">}</a></code></pre></div>
<style type="text/css">
div.warnings {
  color: pink;
  font-family: "Arial"
  font-size: 120%
}

h1 {
  padding-top: 20px
  padding-bottom: 20px
}
</style>
</div>
<div id="html-css-javascript" class="section level3">
<h3><span class="header-section-number">3.1.4</span> HTML + CSS ( + JavaScript)</h3>
<p><img src="images/web-page-design.png" width="80%" /></p>
<ul>
<li><a href="https://www.w3schools.com/">Try it</a>:
<ul>
<li>HTML: the language for building web pages</li>
<li>CSS: the language for styling web pages</li>
<li>JavaScript: the language for programming web pages</li>
</ul></li>
</ul>
</div>
</div>
<div id="web-crawling" class="section level2">
<h2><span class="header-section-number">3.2</span> Web Crawling</h2>
<div class="warning">
<p>
In the following demonstration, the text data scraped from the PTT forum is presented as it is without adjustment. However, please note that the language on PTT may strike some readers as profane, vulgar or even offensive.
</p>
</div>
<p>In this tutorial, let’s assume that we like to scape texts from <a href="https://www.ptt.cc/bbs/index.html">PTT Forum</a>. In particular, we will demonstrate how to scape texts from the <a href="https://www.ptt.cc/bbs/Gossiping/index.html"><code>Gossiping</code></a> board of PTT.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">ptt.url &lt;-<span class="st"> &quot;https://www.ptt.cc/bbs/Gossiping&quot;</span></a></code></pre></div>
<p>If you use your browser to view <a href="https://www.ptt.cc/bbs/Gossiping">PTT Gossiping</a> page, you would see that you need to go through the age verification before you can enter the content page. So, our first job is to pass through this age verification.</p>
<ul>
<li>First, we create a <code>html_session()</code> (like we open a browswer linking to the page)</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">gossiping.session &lt;-<span class="st"> </span><span class="kw">html_session</span>(ptt.url)</a></code></pre></div>
<ul>
<li>Second, we extract the age verification form from the current page (<code>form</code> is also a defined HTML element)</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">gossiping.form &lt;-<span class="st"> </span>gossiping.session <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw">html_node</span>(<span class="st">&quot;form&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span>html_form</a></code></pre></div>
<ul>
<li>Then we automatically submit an <code>yes</code> to the age verification form in the earlier created <code>html_session</code> and create another session.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">gossiping &lt;-<span class="st"> </span><span class="kw">submit_form</span>(</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">  <span class="dt">session =</span> gossiping.session,</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">  <span class="dt">form =</span> gossiping.form,</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">  <span class="dt">submit =</span> <span class="st">&quot;yes&quot;</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb7-6" data-line-number="6"></a>
<a class="sourceLine" id="cb7-7" data-line-number="7">gossiping</a></code></pre></div>
<pre><code>## &lt;session&gt; https://www.ptt.cc/bbs/Gossiping/index.html
##   Status: 200
##   Type:   text/html; charset=utf-8
##   Size:   12383</code></pre>
<p>Now our html <code>sesseion</code>, i.e., <code>gossiping</code>, should be on the front page of the <code>Gossiping</code> board.</p>
<hr />
<div class="info">
<p>
Most browsers come with the functionality to inspect the page source (i.e., HTML). This is very useful for web crawling. Before we scrape data from the webpage, we often need to inspect the structure of the web page first. Most importantly, we need to know (a) which HTML elements, or (b) which particular attributes/values of the HTML elements we are interested in .
</p>
</div>
<p><img src="images/view-page-source.png" width="80%" /><img src="images/view-page-source-2.png" width="80%" /></p>
<hr />
<ul>
<li>Next we need to find the most recent index page of the board</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># Decide the number of index pages ----</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">page.latest &lt;-<span class="st"> </span>gossiping <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;a&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># extract all &lt;a&gt; elements</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw">html_attr</span>(<span class="st">&quot;href&quot;</span>) <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># extract the attributes `href`</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">  </span><span class="kw">str_subset</span>(<span class="st">&quot;index[0-9]{2,}</span><span class="ch">\\</span><span class="st">.html&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># find the `href` with the index number</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="st">  </span><span class="kw">str_extract</span>(<span class="st">&quot;[0-9]+&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># extract the number</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="st">  </span><span class="kw">as.numeric</span>()</a>
<a class="sourceLine" id="cb9-8" data-line-number="8"></a>
<a class="sourceLine" id="cb9-9" data-line-number="9">page.latest</a></code></pre></div>
<pre><code>## [1] 38913</code></pre>
<ul>
<li>On the most recent index page, we need to extract the hyperlinks to the articles</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># Retreive links -----</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">link &lt;-<span class="st"> </span><span class="kw">str_c</span>(ptt.url, <span class="st">&quot;/index&quot;</span>, page.latest, <span class="st">&quot;.html&quot;</span>)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">links.article &lt;-<span class="st"> </span>gossiping <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw">jump_to</span>(link) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># move session to the most recent page</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;a&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># extract article &lt;a&gt;</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="st">  </span><span class="kw">html_attr</span>(<span class="st">&quot;href&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># extract article &lt;a&gt; `href` attributes</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="st">  </span><span class="kw">str_subset</span>(<span class="st">&quot;[A-z]</span><span class="ch">\\</span><span class="st">.[0-9]+</span><span class="ch">\\</span><span class="st">.[A-z]</span><span class="ch">\\</span><span class="st">.[A-z0-9]+</span><span class="ch">\\</span><span class="st">.html&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># extract links</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="st">  </span><span class="kw">str_c</span>(<span class="st">&quot;https://www.ptt.cc&quot;</span>,.)</a>
<a class="sourceLine" id="cb11-9" data-line-number="9">links.article</a></code></pre></div>
<pre><code>##  [1] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html&quot;
##  [2] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584924687.A.B08.html&quot;
##  [3] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584924711.A.32C.html&quot;
##  [4] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html&quot;
##  [5] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html&quot;
##  [6] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html&quot;
##  [7] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html&quot;
##  [8] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html&quot;
##  [9] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925098.A.400.html&quot;
## [10] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925113.A.742.html&quot;
## [11] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925132.A.EFF.html&quot;
## [12] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925174.A.CCC.html&quot;
## [13] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925197.A.EFB.html&quot;
## [14] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925285.A.E99.html&quot;
## [15] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925291.A.B2C.html&quot;
## [16] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925380.A.A93.html&quot;
## [17] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925384.A.0B8.html&quot;
## [18] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925393.A.62A.html&quot;
## [19] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925399.A.666.html&quot;
## [20] &quot;https://www.ptt.cc/bbs/Gossiping/M.1584925466.A.04D.html&quot;</code></pre>
<ul>
<li>Next step is to scrape texts from each article hyperlink. Let’s consider one link first.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">article.url &lt;-<span class="st"> </span>links.article[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">temp.html &lt;-<span class="st"> </span>gossiping <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">jump_to</span>(article.url) <span class="co"># link to the article</span></a></code></pre></div>
<ul>
<li>Now the <code>temp.html</code> is like a browser on the article page. Because we are interested in the metadata and the contents of each article, now the question is: where are they in the HTML? We need to go back to the source page of the article HTML again:</li>
</ul>
<p><img src="images/view-page-source-3.png" width="100%" /></p>
<ul>
<li>After a closer inspection of the article HTML, we know that:
<ul>
<li>The metadata of the article are included in <code>&lt;span&gt;</code> tag elements, belonging to the class <code>class=&quot;article-meta-value&quot;</code></li>
<li>The contents of the article are included in the <code>&lt;div&gt;</code> element, whose ID is <code>ID=&quot;main-content&quot;</code></li>
</ul></li>
</ul>
<hr />
<ul>
<li>Now we are ready to extract the metadata of the article.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># Extract article metadata</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">article.header &lt;-<span class="st"> </span>temp.html <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.article-meta-value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># get &lt;span&gt; of a particular class</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="st">  </span><span class="kw">html_text</span>()</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">article.header</a></code></pre></div>
<pre><code>## [1] &quot;ww45625802 (GGininder)&quot;                   
## [2] &quot;Gossiping&quot;                                
## [3] &quot;[爆卦] 震撼！本土案例新北市高達近四成比例&quot;
## [4] &quot;Mon Mar 23 08:50:49 2020&quot;</code></pre>
<ul>
<li>From the <code>article.header</code>, we are able to extract the <code>author</code>, <code>title</code>, and <code>time stamp</code> of the article.</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">article.author &lt;-<span class="st"> </span>article.header[<span class="dv">1</span>] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">str_extract</span>(<span class="st">&quot;^[A-z0-9_]+&quot;</span>) <span class="co"># athuor</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">article.title &lt;-<span class="st"> </span>article.header[<span class="dv">3</span>] <span class="co"># title</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3">article.datetime &lt;-<span class="st"> </span>article.header[<span class="dv">4</span>] <span class="co"># time stamp</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"></a>
<a class="sourceLine" id="cb16-5" data-line-number="5">article.author</a></code></pre></div>
<pre><code>## [1] &quot;ww45625802&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">article.title</a></code></pre></div>
<pre><code>## [1] &quot;[爆卦] 震撼！本土案例新北市高達近四成比例&quot;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">article.datetime</a></code></pre></div>
<pre><code>## [1] &quot;Mon Mar 23 08:50:49 2020&quot;</code></pre>
<ul>
<li>Now we extract the main contents of the article</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">article.content &lt;-<span class="st"> </span>temp.html <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="st">        </span><span class="kw">html_nodes</span>( <span class="co"># article body</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">          <span class="dt">xpath =</span> <span class="st">&#39;//div[@id=&quot;main-content&quot;]/node()[not(self::div|self::span[@class=&quot;f2&quot;])]&#39;</span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4">        ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5"><span class="st">        </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># extract texts</span></a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="st">        </span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>) <span class="co"># combine all lines into one</span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7">article.content</a></code></pre></div>
<pre><code>## [1] &quot;待在新北覺得好可怕\n全台有34位本土案例\n其中新北市就高達13位\n\n占了38.24%\n勇奪全台第一名\n第二名加第三名才等於第一名\n\n其他台北2位\n高雄0位\n\n侯友宜到底會不會防疫阿？\n\n隔一條淡水河\n台北市2例\n新北市13例\n\n怕怕怕\n\n--&quot;</code></pre>
<div class="info">
<p>
<code>XPath</code> (or XML Path Language) is a query language which is useful for addressing and extracting particular elements from XML/HTML documents. XPath allows you to exploit more features of the hierarchical tree that an HTML file represents in locating the relevant HTML elements. For more information, please see <span class="citation"><span class="citation">Munzert et al. (<a href="#ref-munzert2014">2014</a>)</span></span>, Chapter 4.
</p>
<p>
In the above example, the <code>XPath</code> identifies the nodes <em>under</em> <code>&lt;div id = “main-content”&gt;</code>, but excludes sister nodes that are <code>&lt;div&gt;</code> or <code>&lt;span class=“f2”&gt;</code>
</p>
</div>
<ul>
<li>Now we combine all infomation related to the article into a data frame</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">article.table &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">      <span class="dt">datetime =</span> article.datetime,</a>
<a class="sourceLine" id="cb24-3" data-line-number="3">      <span class="dt">title =</span> article.title,</a>
<a class="sourceLine" id="cb24-4" data-line-number="4">      <span class="dt">author =</span> article.author,</a>
<a class="sourceLine" id="cb24-5" data-line-number="5">      <span class="dt">content =</span> article.content,</a>
<a class="sourceLine" id="cb24-6" data-line-number="6">      <span class="dt">url =</span> article.url</a>
<a class="sourceLine" id="cb24-7" data-line-number="7">    )</a>
<a class="sourceLine" id="cb24-8" data-line-number="8"></a>
<a class="sourceLine" id="cb24-9" data-line-number="9">article.table</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["datetime"],"name":[1],"type":["chr"],"align":["left"]},{"label":["title"],"name":[2],"type":["chr"],"align":["left"]},{"label":["author"],"name":[3],"type":["chr"],"align":["left"]},{"label":["content"],"name":[4],"type":["chr"],"align":["left"]},{"label":["url"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"Mon Mar 23 08:50:49 2020","2":"[爆卦] 震撼！本土案例新北市高達近四成比例","3":"ww45625802","4":"待在新北覺得好可怕\\n全台有34位本土案例\\n其中新北市就高達13位\\n\\n占了38.24%\\n勇奪全台第一名\\n第二名加第三名才等於第一名\\n\\n其他台北2位\\n高雄0位\\n\\n侯友宜到底會不會防疫阿？\\n\\n隔一條淡水河\\n台北市2例\\n新北市13例\\n\\n怕怕怕\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ul>
<li>Next we extract the push comments at the end of the article</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">article.push &lt;-<span class="st"> </span>temp.html <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="st">        </span><span class="kw">html_nodes</span>(<span class="dt">xpath =</span> <span class="st">&quot;//div[@class = &#39;push&#39;]&quot;</span>)</a>
<a class="sourceLine" id="cb25-3" data-line-number="3"></a>
<a class="sourceLine" id="cb25-4" data-line-number="4">article.push</a></code></pre></div>
<pre><code>## {xml_nodeset (39)}
##  [1] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;噓 &lt;/span&gt;&lt;span class=&quot;f ...
##  [2] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;→ &lt;/span&gt;&lt;span class=&quot;f ...
##  [3] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;→ &lt;/span&gt;&lt;span class=&quot;f ...
##  [4] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;hl push-tag&quot;&gt;推 &lt;/span&gt;&lt;span class=&quot;f3 h ...
##  [5] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;hl push-tag&quot;&gt;推 &lt;/span&gt;&lt;span class=&quot;f3 h ...
##  [6] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;噓 &lt;/span&gt;&lt;span class=&quot;f ...
##  [7] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;→ &lt;/span&gt;&lt;span class=&quot;f ...
##  [8] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;噓 &lt;/span&gt;&lt;span class=&quot;f ...
##  [9] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;hl push-tag&quot;&gt;推 &lt;/span&gt;&lt;span class=&quot;f3 h ...
## [10] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;hl push-tag&quot;&gt;推 &lt;/span&gt;&lt;span class=&quot;f3 h ...
## [11] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;→ &lt;/span&gt;&lt;span class=&quot;f ...
## [12] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;hl push-tag&quot;&gt;推 &lt;/span&gt;&lt;span class=&quot;f3 h ...
## [13] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;噓 &lt;/span&gt;&lt;span class=&quot;f ...
## [14] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;→ &lt;/span&gt;&lt;span class=&quot;f ...
## [15] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;噓 &lt;/span&gt;&lt;span class=&quot;f ...
## [16] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;噓 &lt;/span&gt;&lt;span class=&quot;f ...
## [17] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;噓 &lt;/span&gt;&lt;span class=&quot;f ...
## [18] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;→ &lt;/span&gt;&lt;span class=&quot;f ...
## [19] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;hl push-tag&quot;&gt;推 &lt;/span&gt;&lt;span class=&quot;f3 h ...
## [20] &lt;div class=&quot;push&quot;&gt;\n&lt;span class=&quot;f1 hl push-tag&quot;&gt;噓 &lt;/span&gt;&lt;span class=&quot;f ...
## ...</code></pre>
<ul>
<li><p>We then extract relevant information from each push nodes <code>article.push</code>.</p>
<ul>
<li>push types</li>
<li>push authors</li>
<li>push contents</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># push tags</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">push.table.tag &lt;-<span class="st"> </span>article.push <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.push-tag&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="st">  </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>) <span class="co"># push types (like or dislike)</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5">push.table.tag</a></code></pre></div>
<pre><code>##  [1] &quot;噓&quot; &quot;→&quot;  &quot;→&quot;  &quot;推&quot; &quot;推&quot; &quot;噓&quot; &quot;→&quot;  &quot;噓&quot; &quot;推&quot; &quot;推&quot; &quot;→&quot;  &quot;推&quot; &quot;噓&quot; &quot;→&quot;  &quot;噓&quot;
## [16] &quot;噓&quot; &quot;噓&quot; &quot;→&quot;  &quot;推&quot; &quot;噓&quot; &quot;噓&quot; &quot;噓&quot; &quot;推&quot; &quot;噓&quot; &quot;→&quot;  &quot;→&quot;  &quot;→&quot;  &quot;→&quot;  &quot;噓&quot; &quot;→&quot; 
## [31] &quot;→&quot;  &quot;噓&quot; &quot;推&quot; &quot;推&quot; &quot;→&quot;  &quot;推&quot; &quot;→&quot;  &quot;→&quot;  &quot;→&quot;</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="co"># push authors</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2">push.table.author &lt;-<span class="st"> </span>article.push <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.push-userid&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="st">  </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>) <span class="co"># author</span></a>
<a class="sourceLine" id="cb29-5" data-line-number="5">push.table.author</a></code></pre></div>
<pre><code>##  [1] &quot;ryanmulee&quot;   &quot;garybawbaw&quot;  &quot;JuiFu617&quot;    &quot;lazo&quot;        &quot;justice0616&quot;
##  [6] &quot;hkahka&quot;      &quot;justice0616&quot; &quot;userpeter&quot;   &quot;banbee100&quot;   &quot;sd09090&quot;    
## [11] &quot;nikewang&quot;    &quot;nobeldd&quot;     &quot;Isveia&quot;      &quot;KangSuat&quot;    &quot;LOLI5566&quot;   
## [16] &quot;papawen&quot;     &quot;ellenleee&quot;   &quot;Isveia&quot;      &quot;D1&quot;          &quot;jerry810113&quot;
## [21] &quot;kevinpc&quot;     &quot;ryan7202&quot;    &quot;ducke&quot;       &quot;Dia149&quot;      &quot;ww45625802&quot; 
## [26] &quot;ww45625802&quot;  &quot;vowpool&quot;     &quot;em4&quot;         &quot;A80211ab&quot;    &quot;ww45625802&quot; 
## [31] &quot;ww45625802&quot;  &quot;linceass&quot;    &quot;tanted&quot;      &quot;andersonlin&quot; &quot;tanted&quot;     
## [36] &quot;gogorice&quot;    &quot;andersonlin&quot; &quot;gogorice&quot;    &quot;roywow&quot;</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="co"># push contents</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2">push.table.content &lt;-<span class="st"> </span>article.push <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.push-content&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4"><span class="st">  </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb31-5" data-line-number="5"></a>
<a class="sourceLine" id="cb31-6" data-line-number="6">push.table.content</a></code></pre></div>
<pre><code>##  [1] &quot;: 新北不意外&quot;                            
##  [2] &quot;: 400W人怎可能不高？&quot;                    
##  [3] &quot;: 人口最密集&quot;                            
##  [4] &quot;: 南部衛生條件本來就比較不好啊&quot;          
##  [5] &quot;: 高雄0位&quot;                               
##  [6] &quot;: 台男不意外&quot;                            
##  [7] &quot;: 韓國瑜繼登革熱又ㄧ最新力作&quot;            
##  [8] &quot;: ？&quot;                                    
##  [9] &quot;: 按人口比例很正常啊&quot;                    
## [10] &quot;: 超會&quot;                                  
## [11] &quot;: 人口400萬 再加上外勞+北漂族&quot;           
## [12] &quot;: 鬼&quot;                                    
## [13] &quot;: 這倒底在帶什麼風向我看不懂，新北是全國&quot;
## [14] &quot;: 柯黑:偶悶就是要黑柯的啦!&quot;              
## [15] &quot;: 這篇想表達什麼&quot;                        
## [16] &quot;: 應該要算沒有找到源頭的&quot;                
## [17] &quot;: 這種比法沒有意義&quot;                      
## [18] &quot;: 人口最多的地方，按比例來看會很奇怪嗎？&quot;
## [19] &quot;: 母數不用看？&quot;                          
## [20] &quot;: 喔&quot;                                    
## [21] &quot;: 新北人口本來就比較多&quot;                  
## [22] &quot;: 唉&quot;                                    
## [23] &quot;: 白粉要出征新北了，兩面作戰&quot;            
## [24] &quot;: 難道柯屁？！&quot;                          
## [25] &quot;:     ,台北也才兩位阿。&quot;                 
## [26] &quot;:        侯友宜也太差了吧&quot;               
## [27] &quot;: 人口密度高&quot;                            
## [28] &quot;: 零星&quot;                                  
## [29] &quot;: 人口比例高阿  這不是廢話&quot;              
## [30] &quot;:     台北那麼密集也才兩位喔&quot;            
## [31] &quot;:    侯友宜會不會防疫阿？&quot;               
## [32] &quot;: 跑步哥好了啦&quot;                          
## [33] &quot;: 應該發一篇以人口比例去算的&quot;            
## [34] &quot;: 這位是跑步哥吧，又要開始打侯囉&quot;        
## [35] &quot;: 不燃那些會來靠背&quot;                      
## [36] &quot;: 老實說，台北市的人更怕死，戴口罩比例&quot;  
## [37] &quot;: 不過要依人口比例算，桃園比較嚴重吧&quot;    
## [38] &quot;: 超高&quot;                                  
## [39] &quot;: 禁止新北人入台北&quot;</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="co"># push time</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2">push.table.datetime &lt;-<span class="st"> </span>article.push <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.push-ipdatetime&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-4" data-line-number="4"><span class="st">  </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>) <span class="co"># push time stamp</span></a>
<a class="sourceLine" id="cb33-5" data-line-number="5">push.table.datetime</a></code></pre></div>
<pre><code>##  [1] &quot;223.140.40.152 03/23 08:51&quot;  &quot;101.12.67.152 03/23 08:51&quot;  
##  [3] &quot;59.115.115.99 03/23 08:51&quot;   &quot;223.137.192.84 03/23 08:51&quot; 
##  [5] &quot;223.136.75.226 03/23 08:51&quot;  &quot;1.200.216.174 03/23 08:51&quot;  
##  [7] &quot;223.136.75.226 03/23 08:52&quot;  &quot;180.177.56.101 03/23 08:52&quot; 
##  [9] &quot;114.39.132.251 03/23 08:52&quot;  &quot;180.217.141.25 03/23 08:52&quot; 
## [11] &quot;220.79.18.38 03/23 08:52&quot;    &quot;223.140.113.196 03/23 08:52&quot;
## [13] &quot;61.58.63.135 03/23 08:52&quot;    &quot;36.238.94.193 03/23 08:52&quot;  
## [15] &quot;49.216.171.72 03/23 08:52&quot;   &quot;111.71.8.70 03/23 08:52&quot;    
## [17] &quot;49.216.161.244 03/23 08:53&quot;  &quot;61.58.63.135 03/23 08:53&quot;   
## [19] &quot;101.137.18.253 03/23 08:53&quot;  &quot;59.126.49.129 03/23 08:53&quot;  
## [21] &quot;111.250.157.208 03/23 08:54&quot; &quot;110.30.113.83 03/23 08:54&quot;  
## [23] &quot;111.71.11.27 03/23 08:55&quot;    &quot;223.137.97.134 03/23 08:55&quot; 
## [25] &quot;27.246.160.95 03/23 08:56&quot;   &quot;27.246.160.95 03/23 08:56&quot;  
## [27] &quot;125.227.40.62 03/23 08:56&quot;   &quot;110.26.62.103 03/23 08:56&quot;  
## [29] &quot;36.235.13.214 03/23 08:57&quot;   &quot;27.246.160.95 03/23 08:57&quot;  
## [31] &quot;27.246.160.95 03/23 08:57&quot;   &quot;110.50.142.180 03/23 08:58&quot; 
## [33] &quot;111.241.6.41 03/23 08:58&quot;    &quot;27.52.33.20 03/23 08:58&quot;    
## [35] &quot;111.241.6.41 03/23 08:58&quot;    &quot;223.136.193.87 03/23 08:59&quot; 
## [37] &quot;27.52.33.20 03/23 08:59&quot;     &quot;223.136.193.87 03/23 08:59&quot; 
## [39] &quot;223.137.140.169 03/23 09:00&quot;</code></pre>
<ul>
<li>Finally, we combine all into one Push data frame.</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">push.table &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb35-2" data-line-number="2">      <span class="dt">tag =</span> push.table.tag,</a>
<a class="sourceLine" id="cb35-3" data-line-number="3">      <span class="dt">author =</span> push.table.author,</a>
<a class="sourceLine" id="cb35-4" data-line-number="4">      <span class="dt">content =</span> push.table.content,</a>
<a class="sourceLine" id="cb35-5" data-line-number="5">      <span class="dt">datetime =</span> push.table.datetime,</a>
<a class="sourceLine" id="cb35-6" data-line-number="6">      <span class="dt">url =</span> article.url)</a>
<a class="sourceLine" id="cb35-7" data-line-number="7"></a>
<a class="sourceLine" id="cb35-8" data-line-number="8">push.table</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["tag"],"name":[1],"type":["chr"],"align":["left"]},{"label":["author"],"name":[2],"type":["chr"],"align":["left"]},{"label":["content"],"name":[3],"type":["chr"],"align":["left"]},{"label":["datetime"],"name":[4],"type":["chr"],"align":["left"]},{"label":["url"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"噓","2":"ryanmulee","3":": 新北不意外","4":"223.140.40.152 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"garybawbaw","3":": 400W人怎可能不高？","4":"101.12.67.152 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"JuiFu617","3":": 人口最密集","4":"59.115.115.99 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"lazo","3":": 南部衛生條件本來就比較不好啊","4":"223.137.192.84 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"justice0616","3":": 高雄0位","4":"223.136.75.226 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"hkahka","3":": 台男不意外","4":"1.200.216.174 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"justice0616","3":": 韓國瑜繼登革熱又ㄧ最新力作","4":"223.136.75.226 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"userpeter","3":": ？","4":"180.177.56.101 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"banbee100","3":": 按人口比例很正常啊","4":"114.39.132.251 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"sd09090","3":": 超會","4":"180.217.141.25 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"nikewang","3":": 人口400萬 再加上外勞+北漂族","4":"220.79.18.38 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"nobeldd","3":": 鬼","4":"223.140.113.196 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"Isveia","3":": 這倒底在帶什麼風向我看不懂，新北是全國","4":"61.58.63.135 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"KangSuat","3":": 柯黑:偶悶就是要黑柯的啦!","4":"36.238.94.193 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"LOLI5566","3":": 這篇想表達什麼","4":"49.216.171.72 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"papawen","3":": 應該要算沒有找到源頭的","4":"111.71.8.70 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"ellenleee","3":": 這種比法沒有意義","4":"49.216.161.244 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"Isveia","3":": 人口最多的地方，按比例來看會很奇怪嗎？","4":"61.58.63.135 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"D1","3":": 母數不用看？","4":"101.137.18.253 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"jerry810113","3":": 喔","4":"59.126.49.129 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"kevinpc","3":": 新北人口本來就比較多","4":"111.250.157.208 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"ryan7202","3":": 唉","4":"110.30.113.83 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"ducke","3":": 白粉要出征新北了，兩面作戰","4":"111.71.11.27 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"Dia149","3":": 難道柯屁？！","4":"223.137.97.134 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":     ,台北也才兩位阿。","4":"27.246.160.95 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":        侯友宜也太差了吧","4":"27.246.160.95 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"vowpool","3":": 人口密度高","4":"125.227.40.62 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"em4","3":": 零星","4":"110.26.62.103 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"A80211ab","3":": 人口比例高阿  這不是廢話","4":"36.235.13.214 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":     台北那麼密集也才兩位喔","4":"27.246.160.95 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":    侯友宜會不會防疫阿？","4":"27.246.160.95 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"linceass","3":": 跑步哥好了啦","4":"110.50.142.180 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"tanted","3":": 應該發一篇以人口比例去算的","4":"111.241.6.41 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"andersonlin","3":": 這位是跑步哥吧，又要開始打侯囉","4":"27.52.33.20 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"tanted","3":": 不燃那些會來靠背","4":"111.241.6.41 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"gogorice","3":": 老實說，台北市的人更怕死，戴口罩比例","4":"223.136.193.87 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"andersonlin","3":": 不過要依人口比例算，桃園比較嚴重吧","4":"27.52.33.20 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"gogorice","3":": 超高","4":"223.136.193.87 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"roywow","3":": 禁止新北人入台北","4":"223.137.140.169 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="functional-programming" class="section level2">
<h2><span class="header-section-number">3.3</span> Functional Programming</h2>
<p>It should now be clear that there are several routines that we need to do again and again if we want to scape the PTT texts in a large amount:</p>
<ul>
<li>For each index page, we need to extract all the article hyperlinks on the page</li>
<li>For each article hyperlink, we need to extract the article content, metadata, and the push comments</li>
</ul>
<p>So, it would be great if we can wrap these two routines into two functions:</p>
<ul>
<li><code>extract_art_links()</code>: This function takes an HTML session <code>session</code> and an index page of the PTT Gossiping <code>index_page</code> as the arguments and extract all article links from the index page. It returns a vector of article links.</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">extract_art_links &lt;-<span class="st"> </span><span class="cf">function</span>(index_page, session){</a>
<a class="sourceLine" id="cb36-2" data-line-number="2">  links.article &lt;-<span class="st"> </span>session <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="st">  </span><span class="kw">jump_to</span>(index_page) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;a&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5"><span class="st">  </span><span class="kw">html_attr</span>(<span class="st">&quot;href&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-6" data-line-number="6"><span class="st">  </span><span class="kw">str_subset</span>(<span class="st">&quot;[A-z]</span><span class="ch">\\</span><span class="st">.[0-9]+</span><span class="ch">\\</span><span class="st">.[A-z]</span><span class="ch">\\</span><span class="st">.[A-z0-9]+</span><span class="ch">\\</span><span class="st">.html&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-7" data-line-number="7"><span class="st">  </span><span class="kw">str_c</span>(<span class="st">&quot;https://www.ptt.cc&quot;</span>,.)</a>
<a class="sourceLine" id="cb36-8" data-line-number="8"></a>
<a class="sourceLine" id="cb36-9" data-line-number="9">  <span class="kw">return</span>(links.article)</a>
<a class="sourceLine" id="cb36-10" data-line-number="10">}</a></code></pre></div>
<ul>
<li><code>extract_article_push_tables()</code>: This function takes an article link <code>link</code> as the argument and extract the metadata, contents, and pushes of the article. It returns a <em>list</em> of two elements—article and push data frames.</li>
</ul>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">extract_article_push_tables &lt;-<span class="st"> </span><span class="cf">function</span>(link){</a>
<a class="sourceLine" id="cb37-2" data-line-number="2">  article.url &lt;-<span class="st"> </span>link</a>
<a class="sourceLine" id="cb37-3" data-line-number="3">  temp.html &lt;-<span class="st"> </span>gossiping <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">jump_to</span>(article.url) <span class="co"># link to the www</span></a>
<a class="sourceLine" id="cb37-4" data-line-number="4">  <span class="co"># article header</span></a>
<a class="sourceLine" id="cb37-5" data-line-number="5">  article.header &lt;-<span class="st"> </span>temp.html <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-6" data-line-number="6"><span class="st">    </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.article-meta-value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># meta info regarding the article</span></a>
<a class="sourceLine" id="cb37-7" data-line-number="7"><span class="st">    </span><span class="kw">html_text</span>()</a>
<a class="sourceLine" id="cb37-8" data-line-number="8">  </a>
<a class="sourceLine" id="cb37-9" data-line-number="9">  <span class="co"># article meta</span></a>
<a class="sourceLine" id="cb37-10" data-line-number="10">  article.author &lt;-<span class="st"> </span>article.header[<span class="dv">1</span>] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">str_extract</span>(<span class="st">&quot;^[A-z0-9_]+&quot;</span>) <span class="co"># athuor</span></a>
<a class="sourceLine" id="cb37-11" data-line-number="11">  article.title &lt;-<span class="st"> </span>article.header[<span class="dv">3</span>] <span class="co"># title</span></a>
<a class="sourceLine" id="cb37-12" data-line-number="12">  article.datetime &lt;-<span class="st"> </span>article.header[<span class="dv">4</span>] <span class="co"># time stamp</span></a>
<a class="sourceLine" id="cb37-13" data-line-number="13">  </a>
<a class="sourceLine" id="cb37-14" data-line-number="14">  <span class="co"># article content</span></a>
<a class="sourceLine" id="cb37-15" data-line-number="15">  article.content &lt;-<span class="st"> </span>temp.html <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-16" data-line-number="16"><span class="st">    </span><span class="kw">html_nodes</span>( <span class="co"># article body</span></a>
<a class="sourceLine" id="cb37-17" data-line-number="17">      <span class="dt">xpath =</span> <span class="st">&#39;//div[@id=&quot;main-content&quot;]/node()[not(self::div|self::span[@class=&quot;f2&quot;])]&#39;</span></a>
<a class="sourceLine" id="cb37-18" data-line-number="18">    ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-19" data-line-number="19"><span class="st">    </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-20" data-line-number="20"><span class="st">    </span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb37-21" data-line-number="21">  </a>
<a class="sourceLine" id="cb37-22" data-line-number="22">  <span class="co"># Merge article table </span></a>
<a class="sourceLine" id="cb37-23" data-line-number="23">  article.table &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb37-24" data-line-number="24">        <span class="dt">datetime =</span> article.datetime,</a>
<a class="sourceLine" id="cb37-25" data-line-number="25">        <span class="dt">title =</span> article.title,</a>
<a class="sourceLine" id="cb37-26" data-line-number="26">        <span class="dt">author =</span> article.author,</a>
<a class="sourceLine" id="cb37-27" data-line-number="27">        <span class="dt">content =</span> article.content,</a>
<a class="sourceLine" id="cb37-28" data-line-number="28">        <span class="dt">url =</span> article.url</a>
<a class="sourceLine" id="cb37-29" data-line-number="29">      )</a>
<a class="sourceLine" id="cb37-30" data-line-number="30">      </a>
<a class="sourceLine" id="cb37-31" data-line-number="31">  <span class="co"># push nodes</span></a>
<a class="sourceLine" id="cb37-32" data-line-number="32">  article.push &lt;-<span class="st"> </span>temp.html <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-33" data-line-number="33"><span class="st">    </span><span class="kw">html_nodes</span>(<span class="dt">xpath =</span> <span class="st">&quot;//div[@class = &#39;push&#39;]&quot;</span>) <span class="co"># extracting pushes</span></a>
<a class="sourceLine" id="cb37-34" data-line-number="34">    <span class="co"># </span><span class="al">NOTE</span><span class="co">: If CSS is used, div.push does a lazy match (extracting div.push.... also)</span></a>
<a class="sourceLine" id="cb37-35" data-line-number="35">  </a>
<a class="sourceLine" id="cb37-36" data-line-number="36">  <span class="co"># push tags    </span></a>
<a class="sourceLine" id="cb37-37" data-line-number="37">  push.table.tag &lt;-<span class="st"> </span>article.push <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-38" data-line-number="38"><span class="st">    </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.push-tag&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-39" data-line-number="39"><span class="st">    </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>) <span class="co"># push types (like or dislike)</span></a>
<a class="sourceLine" id="cb37-40" data-line-number="40">  </a>
<a class="sourceLine" id="cb37-41" data-line-number="41">  <span class="co"># push author id</span></a>
<a class="sourceLine" id="cb37-42" data-line-number="42">  push.table.author &lt;-<span class="st"> </span>article.push <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-43" data-line-number="43"><span class="st">    </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.push-userid&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-44" data-line-number="44"><span class="st">    </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>) <span class="co"># author</span></a>
<a class="sourceLine" id="cb37-45" data-line-number="45">  </a>
<a class="sourceLine" id="cb37-46" data-line-number="46">  <span class="co"># push content    </span></a>
<a class="sourceLine" id="cb37-47" data-line-number="47">  push.table.content &lt;-<span class="st"> </span>article.push <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-48" data-line-number="48"><span class="st">    </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.push-content&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-49" data-line-number="49"><span class="st">    </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb37-50" data-line-number="50">  </a>
<a class="sourceLine" id="cb37-51" data-line-number="51">  <span class="co"># push datetime      </span></a>
<a class="sourceLine" id="cb37-52" data-line-number="52">  push.table.datetime &lt;-<span class="st"> </span>article.push <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-53" data-line-number="53"><span class="st">    </span><span class="kw">html_nodes</span>(<span class="st">&quot;span.push-ipdatetime&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-54" data-line-number="54"><span class="st">    </span><span class="kw">html_text</span>(<span class="dt">trim =</span> <span class="ot">TRUE</span>) <span class="co"># push time stamp</span></a>
<a class="sourceLine" id="cb37-55" data-line-number="55">  </a>
<a class="sourceLine" id="cb37-56" data-line-number="56">  <span class="co"># merge pusg table</span></a>
<a class="sourceLine" id="cb37-57" data-line-number="57">  push.table &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb37-58" data-line-number="58">          <span class="dt">tag =</span> push.table.tag,</a>
<a class="sourceLine" id="cb37-59" data-line-number="59">          <span class="dt">author =</span> push.table.author,</a>
<a class="sourceLine" id="cb37-60" data-line-number="60">          <span class="dt">content =</span> push.table.content,</a>
<a class="sourceLine" id="cb37-61" data-line-number="61">          <span class="dt">datetime =</span> push.table.datetime,</a>
<a class="sourceLine" id="cb37-62" data-line-number="62">          <span class="dt">url =</span> article.url</a>
<a class="sourceLine" id="cb37-63" data-line-number="63">        )</a>
<a class="sourceLine" id="cb37-64" data-line-number="64">  </a>
<a class="sourceLine" id="cb37-65" data-line-number="65">  <span class="co"># return</span></a>
<a class="sourceLine" id="cb37-66" data-line-number="66">  </a>
<a class="sourceLine" id="cb37-67" data-line-number="67">  <span class="kw">return</span>(<span class="kw">list</span>(<span class="dt">article.table =</span> article.table, </a>
<a class="sourceLine" id="cb37-68" data-line-number="68">              <span class="dt">push.table =</span> push.table))</a>
<a class="sourceLine" id="cb37-69" data-line-number="69">}<span class="co">#endfunc</span></a></code></pre></div>
<p>Now we can simply our codes quite a bit:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="co"># Get index page</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2">cur_index_page &lt;-<span class="st"> </span><span class="kw">str_c</span>(ptt.url, <span class="st">&quot;/index&quot;</span>, page.latest, <span class="st">&quot;.html&quot;</span>)</a>
<a class="sourceLine" id="cb38-3" data-line-number="3"></a>
<a class="sourceLine" id="cb38-4" data-line-number="4"><span class="co"># Scape all article.tables and push.tables from each article hyperlink</span></a>
<a class="sourceLine" id="cb38-5" data-line-number="5">cur_index_page <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-6" data-line-number="6"><span class="st">  </span><span class="kw">extract_art_links</span>(<span class="dt">session =</span> gossiping) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-7" data-line-number="7"><span class="st">  </span><span class="kw">map</span>(extract_article_push_tables) -&gt;<span class="st"> </span>ptt_data</a></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="co"># number of articles on this index page</span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="kw">length</span>(ptt_data)</a></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="co"># Check the first contents of 1st hyperlink</span></a>
<a class="sourceLine" id="cb41-2" data-line-number="2">ptt_data[[<span class="dv">1</span>]]<span class="op">$</span>article.table</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["datetime"],"name":[1],"type":["chr"],"align":["left"]},{"label":["title"],"name":[2],"type":["chr"],"align":["left"]},{"label":["author"],"name":[3],"type":["chr"],"align":["left"]},{"label":["content"],"name":[4],"type":["chr"],"align":["left"]},{"label":["url"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"Mon Mar 23 08:50:49 2020","2":"[爆卦] 震撼！本土案例新北市高達近四成比例","3":"ww45625802","4":"待在新北覺得好可怕\\n全台有34位本土案例\\n其中新北市就高達13位\\n\\n占了38.24%\\n勇奪全台第一名\\n第二名加第三名才等於第一名\\n\\n其他台北2位\\n高雄0位\\n\\n侯友宜到底會不會防疫阿？\\n\\n隔一條淡水河\\n台北市2例\\n新北市13例\\n\\n怕怕怕\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">ptt_data[[<span class="dv">1</span>]]<span class="op">$</span>push.table</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["tag"],"name":[1],"type":["chr"],"align":["left"]},{"label":["author"],"name":[2],"type":["chr"],"align":["left"]},{"label":["content"],"name":[3],"type":["chr"],"align":["left"]},{"label":["datetime"],"name":[4],"type":["chr"],"align":["left"]},{"label":["url"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"噓","2":"ryanmulee","3":": 新北不意外","4":"223.140.40.152 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"garybawbaw","3":": 400W人怎可能不高？","4":"101.12.67.152 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"JuiFu617","3":": 人口最密集","4":"59.115.115.99 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"lazo","3":": 南部衛生條件本來就比較不好啊","4":"223.137.192.84 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"justice0616","3":": 高雄0位","4":"223.136.75.226 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"hkahka","3":": 台男不意外","4":"1.200.216.174 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"justice0616","3":": 韓國瑜繼登革熱又ㄧ最新力作","4":"223.136.75.226 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"userpeter","3":": ？","4":"180.177.56.101 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"banbee100","3":": 按人口比例很正常啊","4":"114.39.132.251 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"sd09090","3":": 超會","4":"180.217.141.25 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"nikewang","3":": 人口400萬 再加上外勞+北漂族","4":"220.79.18.38 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"nobeldd","3":": 鬼","4":"223.140.113.196 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"Isveia","3":": 這倒底在帶什麼風向我看不懂，新北是全國","4":"61.58.63.135 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"KangSuat","3":": 柯黑:偶悶就是要黑柯的啦!","4":"36.238.94.193 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"LOLI5566","3":": 這篇想表達什麼","4":"49.216.171.72 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"papawen","3":": 應該要算沒有找到源頭的","4":"111.71.8.70 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"ellenleee","3":": 這種比法沒有意義","4":"49.216.161.244 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"Isveia","3":": 人口最多的地方，按比例來看會很奇怪嗎？","4":"61.58.63.135 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"D1","3":": 母數不用看？","4":"101.137.18.253 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"jerry810113","3":": 喔","4":"59.126.49.129 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"kevinpc","3":": 新北人口本來就比較多","4":"111.250.157.208 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"ryan7202","3":": 唉","4":"110.30.113.83 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"ducke","3":": 白粉要出征新北了，兩面作戰","4":"111.71.11.27 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"Dia149","3":": 難道柯屁？！","4":"223.137.97.134 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":     ,台北也才兩位阿。","4":"27.246.160.95 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":        侯友宜也太差了吧","4":"27.246.160.95 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"vowpool","3":": 人口密度高","4":"125.227.40.62 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"em4","3":": 零星","4":"110.26.62.103 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"A80211ab","3":": 人口比例高阿  這不是廢話","4":"36.235.13.214 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":     台北那麼密集也才兩位喔","4":"27.246.160.95 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":    侯友宜會不會防疫阿？","4":"27.246.160.95 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"linceass","3":": 跑步哥好了啦","4":"110.50.142.180 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"tanted","3":": 應該發一篇以人口比例去算的","4":"111.241.6.41 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"andersonlin","3":": 這位是跑步哥吧，又要開始打侯囉","4":"27.52.33.20 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"tanted","3":": 不燃那些會來靠背","4":"111.241.6.41 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"gogorice","3":": 老實說，台北市的人更怕死，戴口罩比例","4":"223.136.193.87 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"andersonlin","3":": 不過要依人口比例算，桃園比較嚴重吧","4":"27.52.33.20 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"gogorice","3":": 超高","4":"223.136.193.87 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"roywow","3":": 禁止新北人入台北","4":"223.137.140.169 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ul>
<li>Finally, the last thing we can do is to combine all article tables into one; and all push tables into one for later analysis.</li>
</ul>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="co"># Merge all article.tables into one</span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2">article.table.all &lt;-<span class="st"> </span>ptt_data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-3" data-line-number="3"><span class="st">  </span><span class="kw">map</span>(<span class="cf">function</span>(x) x<span class="op">$</span>article.table) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb43-4" data-line-number="4"><span class="st">  </span>bind_rows</a>
<a class="sourceLine" id="cb43-5" data-line-number="5"></a>
<a class="sourceLine" id="cb43-6" data-line-number="6"><span class="co"># Merge all push.tables into one</span></a>
<a class="sourceLine" id="cb43-7" data-line-number="7">push.table.all &lt;-<span class="st"> </span>ptt_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb43-8" data-line-number="8"><span class="st">  </span><span class="kw">map</span>(<span class="cf">function</span>(x) x<span class="op">$</span>push.table) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb43-9" data-line-number="9"><span class="st">  </span>bind_rows</a>
<a class="sourceLine" id="cb43-10" data-line-number="10"></a>
<a class="sourceLine" id="cb43-11" data-line-number="11">article.table.all</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["datetime"],"name":[1],"type":["chr"],"align":["left"]},{"label":["title"],"name":[2],"type":["chr"],"align":["left"]},{"label":["author"],"name":[3],"type":["chr"],"align":["left"]},{"label":["content"],"name":[4],"type":["chr"],"align":["left"]},{"label":["url"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"Mon Mar 23 08:50:49 2020","2":"[爆卦] 震撼！本土案例新北市高達近四成比例","3":"ww45625802","4":"待在新北覺得好可怕\\n全台有34位本土案例\\n其中新北市就高達13位\\n\\n占了38.24%\\n勇奪全台第一名\\n第二名加第三名才等於第一名\\n\\n其他台北2位\\n高雄0位\\n\\n侯友宜到底會不會防疫阿？\\n\\n隔一條淡水河\\n台北市2例\\n新北市13例\\n\\n怕怕怕\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"Mon Mar 23 08:51:25 2020","2":"Re: [問卦] 病毒會讓人類看清宗教嗎？","3":"zaku2015","4":"因為不管有沒有神\\n人都會死啊\\n很多人也都只是這個神不靈換個神拜\\n可是這改變不了人會死的事實\\n基督教講信耶穌必得救升天\\n佛教講悟道得升極樂\\n說白了也就是死後到哪裡去而已\\n要相信死了就回歸虛無煙消雲散也行\\n畢竟人死了就不可能再活過來\\n\\n\\n引述《williammini (迷你衛里恩)》之銘言：: ※ 引述《ya01234 (姆咪)》之銘言：: : 就是阿，什麼中國先不論: : 全世界在這武漢病毒的影響下不少宗教活動被延期: : 韓國還因為邪教活動大感染: : 所以大家會看清宗教嗎？: : 就是沒有神這件事，如果真有萬能的神為什麼還要怕病毒呢？: : 清真寺要消毒、梵蒂岡也有確診、激進宗教: : 恐怖分子也會怕病毒: : 能夠解決或防治病毒是人類之前用科學方法所累積的防疫經驗和研究: : 病毒會讓人類看清楚宗教嗎？: : -----: : Sent from JPTT on my Asus ASUS_X00RD.: 真的，我也想不透: 如果真有神明，請趕快告知治癒武漢病毒的配方與良藥: 這樣不只可以治好許多人，又可一夕成名，招來成千上萬的信徒: 怎麼看都是雙贏 但怎沒有一個神明這樣做?--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924687.A.B08.html"},{"1":"Mon Mar 23 08:51:49 2020","2":"[問卦] 韓國企業的室長是什麼階級？","3":"gerychen","4":"餓死抬頭\\n\\n常常看韓劇都會聽到室長室長\\n本來以為是類似經理的職位\\n結果又看到另一個就叫做經理的職位\\n那就代表室長不是經理啦！\\n還是其實是員工宿舍寢室的室長？\\n但感覺室長職權蠻大的欸\\n\\n有卦？\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924711.A.32C.html"},{"1":"Mon Mar 23 08:52:44 2020","2":"[問卦] 有線耳機因該要退場了吧","3":"mikemagic88","4":"iPhone已經準備要出到12了\\n\\n最早從iPhone 7就沒有耳機孔\\n\\n到現在也好幾年了\\n\\n更不用說真無線耳機現在大流行\\n\\nAirpods也出到第三個世代\\n\\n雖然售價不便宜\\n\\n但功能和音質都有大幅提升\\n\\n我認為有線耳機可能也沒贏多少\\n\\n更多的是方便性與功能性的劣勢\\n\\n基本上也不需要有線耳機了吧\\n\\n是不是因該退場了呢\\n\\n有八卦嗎?\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"Mon Mar 23 08:53:55 2020","2":"Re: [問卦] 如果是韓國瑜當選現在台灣疫情會怎樣","3":"TIMU","4":"你還是一樣不會聽政府說沒病不用戴口罩，不管o不ok，一樣搭車戴好戴滿，口罩八成也\\n是看得到買不到，搞不好更少，大概真的會蓋火神山，以上: 先說我很慶幸這次是小英當選: 現在台灣還是平平安安的: 但偏偏有一群人就是不領情啦: 處處看蔡英文總統不順眼: 每天以為自己比陳時中部長厲害: 出一張嘴就有支持者喊先知: 既然這群人這麼不伏氣: 如果今天是國民黨的韓國瑜當選: 現在台灣會怎樣？--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"Mon Mar 23 08:54:25 2020","2":"Re: [問卦]張上淳的兒子在想什麼?","3":"t21","4":"先說結論,經過督割事件還有大阪事件後,\\n\\nptt的鄉民還是學不到教訓.容易被人家操弄.\\n\\n\\n其實張醫師兒子出國的事件本來就要熄火了\\n\\n因為本來大家是不爽那一句依規定出國並無違規.\\n\\n後來是這個網友爆料說他兒子是出國去滑雪,\\n然後某集團的新聞又開始帶風向,\\n說張醫師的兒子自己罵禁止出國又自己跑出去爽.\\n\\n風向又開始燒起來了,PTT鄉民又開始一窩蜂的打,\\n\\n結果現在聲明出來了.出國的是小兒子,寫文章是大兒子.\\n\\n還有人家3/4日出國時,美國就還沒有被列到危險國家.\\n都可以去,後來人家也提早回來了\\n\\n而里長是3/10號出國,當時已經列二級,又帶一堆人去\\n\\n最重要是這一段對話,\\n不去會被扣錢,出國去的話可以玩,回來有可以領補助1萬四\\n大家才罵成一片..\\n\\n這幾天看了一系列關於張醫師兒子的文章,\\n\\n結論就是鄉民就是不爽人家有一個富爸爸,\\n\\n\\n=========================\\n出國么兒聲明表示:\\n\\n\\n我這次出國造成社會一些紛擾，在此做一些說明。\\n對於我的行程安排，身為醫療人員，\\n應該有更為嚴謹的態度，此事引起社會負面觀感，\\n表示最深的歉意。我的輪休是早已排定，\\n並於2月中依醫院出國請假規定提出申請獲淮，\\n出國前還詢問了人事室是否可以出國，\\n在得到許可後，才按照計畫於3月4日出國。\\n當時美國疫情狀況還好，但到美國後，得知疫情有新的變化，\\n也因此決定提早回國，\\n取消後半段行程，完全沒有滑雪行程。\\n\\n取消出國行程之長子聲明表示：\\n\\n\\n首先，為我取消出國行程仍受到錯誤的報導，\\n而在非公開的臉書上表達了過度的情緒反應，\\n內容確有不妥，貼文後五分鐘便立即下架。\\n我為我一時的情緒反應言詞，深表抱歉，也深自檢討。\\n我們的敵人是病毒，期待大家同心協力抵抗病毒，迎向美好的明天\\n\\n\\n\\nPTT Loan\\n\\n[問題] 醫師信貸\\n作者: ShauEn (What Can I Do)\\n\\n2019-12-09 21:59:41\\n\\n1. 欲貸金額：220萬\\n2. 還款期限：7年以內\\n3. 貸款用途：購車\\n4. 職業：醫學中心主治醫師\\n5. 年收入：150-200萬\\n6. 年資: 5年\\n7. 信用卡: 有 美運/台新/玉山/華南/國泰/花旗 皆正常繳款無遲繳紀錄\\n8. 貸款：無\\n9. 所在地：台北市\\n麻煩來信提供以下資訊：\\n1.銀行與方案\\n2.總費用(包含開辦費/設定費/手續費/查詢費/其他相關費用)\\n3.利率方式(一段式佳)\\n4.最短綁約時間及提前償還規定及利率(能提早還款者佳)\\n5.每月繳款金額/總繳款金額\\n6.辦理時間及需檢附之申請文件。\\n一段式1.98%以上就不用來信了，感謝: 個人台灣胸腔專科字號xxxx號: 前幾天也在目前被唯讀的維穩板po過一篇胸腔知識相關的文章: 我懶得管雙標的問題: 我只針對這件事情非常嚴重打擊醫護的士氣: 我只想問這位學弟-張P的兒子aka寶山內科R(還是升CR了?): 都當到台灣最強NTU的內科R了 這麼不會想?: 出國還滑雪很開心放fb爽翻一波?: 你回來居家檢疫了嗎?: 幫你cover的同儕有沒有靠北的要死?: 政府2/23開始放風向禁全體醫護出國: 風向不對2/25開始分不同等級的地區限制: 從那時候開始, 管你去的地方是幾級: 假單寫出國在各大醫學中心基本上都不太會過啦: 身邊每個醫護都在法源尚不清楚的情況下默默取消行程: 損失還不是自己吞: 補償根本還沒下來況且同行家人的也沒有補啊: 沒關係~張P帶頭說要超前部署: 結果我們ok, 你出國?: 3/4出國飛爽爽還滑雪好羨慕: 我們只能每天滑檢體棒啦: 張P昨天把深藏多日的NTU大P嘴臉展露無遺: 一句沒有違法: 好熟悉的嘴臉, 就像過去的那句:依法行政, 謝謝指教: 再退一萬步想: 如果今天張大公子不小心確診: 傳遞鏈就會是這樣:: 張公子-張p-時中-菸/衝衝衝: 這畫面太美我不敢想--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"Mon Mar 23 08:54:49 2020","2":"[新聞] 前男友嘿咻不給力 女兩刀要他命","3":"FourOneJ","4":"1.媒體來源:自由\\n\\n2.記者署名王俊忠\\n\\n3.完整新聞標題:前男友嘿咻不給力 女兩刀要他命\\n\\n4.完整新聞內文:規https://i.imgur.com/mvSQcE9.jpg尤姓女子（小圖，取自臉書）求復合不成，殺害前男友，被判刑15年（資料照）\\n2019-03-21 06:00:00\\n懷疑他被外面女人榨乾\\n\\n〔記者王俊忠／台南報導〕去年7月間，台南市郭姓中年男子身中2刀陳屍臥房，警方逮捕\\n欲尋短的凶手尤女。據了解，尤女向前男友郭男求復合不成，憤而殺人；尤女在法庭更透\\n露，案發時與郭男做愛到一半，覺得郭可能在外面先跟其他女人發生關係，她對郭說「沒\\n辦法就不要勉強先休息」，躺在床上休息時，想到過得那麼苦，想為2人解脫，就拿隨身\\n的刀子刺殺前男友。台南地院依殺人罪判尤女15年徒刑。\\n\\n據了解，郭男（47歲）與尤女（39歲）各有1段婚姻紀錄，尤女與前夫生的2男1女都在屏\\n東；郭男與前妻沒有生兒育女，郭、尤是2年多前在尤位於永康的陪酒上班場所認識，但2\\n年來感情不穩定，分分合合。下輩子別再見…抽刀刺去年7月20日清晨，郭男喝酒後回到南市東區仁東街大樓住處，當天7點許，郭男打電話聯\\n絡尤女到大樓住處見面，8點多，尤女帶著放有水果刀的包包進入郭男住處，2人躺在床上\\n發生性關係。尤女突然想起2人過往恩怨情仇，不滿郭對她「呼之即來、揮之即去」，竟\\n拿出包包內的水果刀，趁著郭男往左翻身側躺時，對郭說「下輩子我們不要再見面了，我\\n馬上到」，接著持刀猛刺郭男右頸大量出血，尤拔出刀後，郭緩慢起身、走向尤女，尤再\\n刀刺郭男左上腹，導致郭男休克當場死亡。\\n\\n一度想尋短 女被判15年\\n\\n郭男的另2名女性友人一直到同月21日凌晨都聯絡不上郭，會同保全員打開郭家門，赫見\\n郭男倒在臥室血泊中，報警處理。尤女行凶後，帶凶刀搭計程車離開郭的住處，回到自己\\n的永康租住處，再駕駛小客車南下屏東，欲探望孩子後尋短。警方得知尤女萌生尋短念頭\\n，21日傍晚緊急到屏東枋山帶回尤女調查。\\n\\n5.完整新聞連結 (或短網址):https://news.ltn.com.tw/news/society/paper/12756206.備註:不給力啊！\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"Mon Mar 23 08:57:45 2020","2":"[問卦] 捷運上遇到唱聲樂的怎麼辦","3":"star07","4":"就是本宅不小心坐上捷運\\n旁邊的阿姨\\n開始\\n啊～啊～啊～的叫\\n我知道在座各位都會想歪\\n但是他真的是用聲樂的音調在發上面那些音\\n看起來衣著整齊\\n我應該注意什麼？\\n----\\nSent fromBePTTon my ASUS_Z012DA\\n\\n--https://i.imgur.com/uMxgzB8.jpghttp://i.imgur.com/txqcIcQ.jpghttps://i.imgur.com/RYd3xKn.jpghttps://i.imgur.com/83nO1Wx.jpg--可能只能當配樂怕被吉感覺怪怪的，會覺得恐怖吧","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"Mon Mar 23 08:58:13 2020","2":"[問卦] 沒有醬油膏還算蘿蔔糕嗎","3":"ggininde5566","4":"每天最重要的第一件事\\n\\n就是吃超飽的早餐+大冰拿鐵\\n\\n今天抱著愉悅又期待的心情到早餐店點了蛋餅+蘿蔔糕+荷包蛋\\n\\n可是吃著吃著覺得口味有點怪怪的\\n\\n仔細一看原來是沒有醬油膏啊\\n\\n超。爆幹。崩潰！！！！\\n\\n蘿蔔糕少了醬油膏就像看新聞沒有含總一樣空虛\\n\\n有沒有蘿蔔糕沒加醬油膏的八卦？？？？https://i.imgur.com/aP7ckYD.jpg--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925098.A.400.html"},{"1":"Mon Mar 23 08:58:31 2020","2":"Re: [問卦] 大家真的希望張上淳被換掉嗎","3":"violetking","4":"這件事情要反過來看，\\n\\n不能說打這件事都是藍營和五毛。\\n\\n應該說，反對綠營的都是藍營和五毛。\\n\\n綠營自己出事，是絕對會護航到底的，\\n所以一定只有非綠營在護。\\n\\n非綠營又都是藍營和五毛，所以打這件事的都是綠營和五毛。\\n\\n\\n都成年了，父債不應子償，子債也不應該父償。: 我發現晚上打他的帳號都是藍營跟五毛居多: 這群人是不知道張是親藍的嗎: 他不但會跟國民黨一起出席記者會: https://i.imgur.com/ZZnsOJB.jpg: 甚至還在馬任內當過衛生署副署長: 跟國民黨關係很要好: https://i.imgur.com/3usuXyh.jpg: 結果這兩天552跟五毛不知道幹嘛狂打他: 以為這樣就能打擊綠營士氣?: 還是以為打出一個防疫破口: 讓台灣淪陷就能讓中共佔領台灣?: 要不是他防疫守門人的工作做的不錯: 不然根本不會想幫忙講話--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925113.A.742.html"},{"1":"Mon Mar 23 08:58:50 2020","2":"[新聞]","3":"LAPDSWAT456","4":"新聞內容含有政治人物、機關類、政治族群類請以[政治]為分類，違者刪除!\\n1.媒體來源:\\n\\n\\n東森\\n\\n2.記者署名\\n\\n記者陳俊宏／綜合報導\\n\\n\\n3.完整新聞標題:\\n\\n「03.26紐約－台北－浦東－武漢」　上千陸生想來台灣轉機：我求求了！\\n\\n\\n4.完整新聞內文:\\n\\n記者陳俊宏／綜合報導\\n為避免新冠肺炎疫情擴大，中央流行疫情指揮中心22日宣布，24日起全面禁止全球旅客來\\n台轉機。事實上，美國早禁止中國旅客入境，導致往來中美間航班停飛，不少中國留學生\\n在群組分享可從台灣轉機的資訊。有航空公司私下透露，過去幾天將近上千名中國人經桃\\n機轉機，只是坐旁邊的乘客、一起排隊的乘客都是台灣人。\\n先前有一對大陸夫妻帶女嬰經台灣轉機，全身包緊緊外，還撐大傘用透明塑膠布當簾子，\\n讓其他人全看傻眼。全球疫情大爆走之下，很多人就擔心轉機客成為防疫缺口。\\n請繼續往下閱讀...\\n\\n因此，指揮中心22日表示，新冠肺炎疫情已造成全球大流行，且境外移入個案持續攀升，\\n為避免疫情透過航空運輸傳播，自24日0時起至4月7日，我國全面禁止旅客登機來台轉機\\n，以減少人口跨境流動與降低疾病傳播風險。\\n▼在美陸生討論該如何回國。（圖／讀者提供）\\n▲▼上千大陸留學生想從紐約逃回家！女主播憂「在台轉機」成防疫破口。（圖／讀者提\\n供）\\n有航空公司私下透露，過去幾天將近上千名中國人經桃機轉機，只是坐旁邊的乘客、一起\\n排隊的乘客都是台灣人。一名現役機組員表示，「即使說你的整體移動過程中有消毒或有\\n做好防護，但是問題是如果你在機艙裡面，你做服務時，如果第一時間接觸到有感染，那\\n你就是有危險性在，風險就還是有啊。」\\n先前就有機組員呼籲行政院長蘇貞昌正視這個問題，信中寫著，不少持雙重國籍的中國乘\\n客都在桃園機場轉機，擔心防疫有漏洞，希望院長審慎思考相應對策，似乎希望能全面停\\n航或拒載。一名現役機組員表示，「兩難啊」，經濟資本下的公司，「你就是必須做生意\\n才會有收入，就是這樣子。」\\n而就在指揮中心宣布全面禁止旅客來台轉機前，許多在美國的中國留學生熱烈討論該怎麼\\n回中國。《三立新聞網》報導，有上千名陸生想到台北（桃園機場）轉機，不少人把暱稱\\n改成行程資訊，像是「03.26紐約－台北－浦東－武漢」，還有人哀號「我求求了」\\n\\n\\n原文網址: 「03.26紐約－台北－浦東－武漢」　上千陸生想來台灣轉機：我求求了！ |\\nETtoday生活新聞 | ETtoday新聞雲 手機版 | ETtoday MobileWebhttps://www.ettoday.net/news/20200323/1674002.htm#ixzz6HTA4bZMN\\nFollow us: @ETtodaynet on Twitter | ETtoday on Facebook\\n\\n\\n5.完整新聞連結 (或短網址):https://www.ettoday.net/news/20200323/1674002.htm?from=fb_et_news&fbclid=IwAR3QsQ2dIqMse8vUr68uO13pA8aK-ApLJwIUynrtCaHhttps://reurl.cc/kdZZLL6.備註:\\n\\n靠背\\n支那病毒人又要入侵臺灣了\\n無所不用其極耶幹\\n還好禁轉機了\\n\\n衛福部真的辛苦\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925132.A.EFF.html"},{"1":"Mon Mar 23 08:59:32 2020","2":"[新聞] 病毒非源自中國？專家: 義北去年11月就出","3":"Salcea","4":"病毒非源自中國？專家: 義北去年11月就出現奇怪肺炎\\n\\n聯合報 / 編譯徐榆涵／即時報導\\n\\n義大利新冠肺炎疫情嚴重，義國一名藥理研究專家指出，北部倫巴底大區早在去年11月至\\n12月就出現不明原因的肺炎患者。\\n\\n義大利馬里奧內格里藥理研究所（Mario Negri Institute for Pharmacological\\nResearch）主任雷穆齊（Giuseppe Remuzzi）日前接受美國全國公共電台（NPR）採訪時\\n透露，「他們（全科醫生）記得曾經見過奇怪且非常嚴重的肺炎，特別是發生在去年12月\\n甚至11月的老年人身上」。\\n\\n雷穆齊說，「這代表在他們意識到病毒在中國爆發之前，病毒至少已經在北部倫巴底大區\\n傳播」。\\n\\n雷穆齊說這番話的同時，科學家正持續尋找新冠病毒的發源地。中國呼吸病學專家鐘南山\\n之前曾表示，儘管中國是第一個爆出疫情的國家，但尚不確定病毒源頭。\\n\\n雷穆齊說，此種疾病在人們不知情的情況下傳播。\\n\\n義大利2月21日才通報倫巴底大區出現國內首例本土確診個案，在此之前為境外移入，但\\n截至目前，義大利總確診人數已達到5萬9138人，有5476人死亡。相較之下，中國確診人\\n數剛超過8萬1000人，有3261人死亡。\\n\\nUDN.comhttps://udn.com/news/story/120944/4435799--\\n\\n  ／人@.@人＼ 「和我簽下契約成為魔法少女吧！」\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925174.A.CCC.html"},{"1":"Mon Mar 23 08:59:55 2020","2":"[問卦] 有沒有夜襲水餃的八卦？","3":"pat7681","4":"是這樣喇\\n肥宅看最近民生物資屯得厲害，也想跟風一下\\n\\n對於不會煮飯的肥宅來說最簡單的就是水餃了\\n版友激推的標太郎那是當然要入手\\n但是又看到這個頓時猶豫不決https://i.imgur.com/3CoM3RP.jpg有沒有人吃過的？ 推嗎？\\n急 在線等\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925197.A.EFB.html"},{"1":"Mon Mar 23 09:01:23 2020","2":"[政治] 韓國瑜嘆：高雄市長不好當 頭髮都禿光了","3":"waymayday","4":"1.媒體來源:\\n中時\\n\\n2.記者署名:\\n李慈音\\n\\n3.完整新聞標題:\\n韓國瑜嘆：高雄市長不好當 頭髮都禿光了\\n\\n4.完整新聞內文:\\n新冠肺炎疫情延燒，台灣確診病例達169例，死亡病例2例，近日更引發民眾搶購潮。高雄市\\n長韓國瑜日前開直播，呼籲大家不要搶物資，貨源絕對充足。除新冠肺炎外，登革熱也是高\\n雄的防疫重點，讓韓國瑜大嘆高雄市長不好當。\\n\\n韓國瑜和高雄市衛生局長林立人開直播，呼籲民眾不要搶購民生物資，遵守「4不2穩」，不\\n哄抬、不搶購、不炒作、不囤積，並穩定價格、穩定貨源。\\n\\n登革熱防疫部分，去年高雄市政府的防治大家有目共睹，就怕新冠肺炎、登革熱、漢他病毒\\n、流感多重夾擊，一起侵襲高雄市。韓國瑜表示，大年初一已針對新冠肺炎成立一級開設，\\n元宵節後則針對登革熱，嚴厲打擊、超前部屬。\\n\\n韓國瑜說，林立人原本有滿頭烏髮，這一年多，一下子登革熱，一下子新冠肺炎，頭髮都白\\n了一半，高雄市的衛生局長不好當，「高雄市市長也不好幹，你看我頭髮都禿光了」。\\n\\n韓國瑜和林立人也開箱居家檢疫隔離物資包，提醒3月19日入境的國人，一定要居家檢疫14\\n天，千萬不要外出、搭乘大眾運輸工具，若有徵狀送往指定醫院，未配合者最高裁罰100萬\\n元。若與確診病例接觸，需實施居家隔離14天，不可外出，也會派人居家視察，到府關懷，\\n包含送餐、倒垃圾，希望大家能互相體諒，共體時艱。\\n\\n\\n5.完整新聞連結 (或短網址):https://www.chinatimes.com/realtimenews/20200323003158-260407?chdtv--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925285.A.E99.html"},{"1":"Mon Mar 23 09:01:27 2020","2":"Re: [問卦] 美國怎麼感覺好像會比較慘？","3":"z0953781935","4":": 中國已經經歷一次全國性大規模封城: 官方數據固然不可信: 但比較一下之前和現在流出的疫情八卦數量: 確實是有顯著的減少: 而且可以把人命當韭菜割也不會怎樣: 確診就標靶治療然後燒掉 永絕後患: 用人命堆出一條生路 雖然殘忍卻也不失為一種方法: 反觀美國則是剛開始而已: 而在病人處置方面不可能標靶治療: 也不可能控制輿論安撫民心: 再加上文化鼓勵靠雙手去爭取利益: 說不定疫情再嚴重一點就會出現組織性搶劫了: 美國會不會發展到最後損血比中國還多啊？: 有卦？: -----中國疫情一月就爆發了，川普一開始還說是感冒，等到美股崩盤才開始認真防疫\\n\\n美國也有2800萬人沒醫保，4100萬的貧窮人口，病床嚴重不足，醫療費用高，看一次病就得破產\\n\\n但美國也不是窮國啊，每年國防預算6000億美金，遠遠超過其他國家的國防預算\\n\\n\\n這樣看起來是誰比較不重視人命?有八卦嗎？\\n\\n\\n\\n\\n--http://i.imgur.com/hOPCIgB.jpg--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925291.A.B2C.html"},{"1":"Mon Mar 23 09:02:58 2020","2":"Re: [問卦] 有線耳機因該要退場了吧","3":"KMTSUCK","4":"感覺現在越來越多人語詞和字亂用\\n\\n國學常識能力低落到可怕...\\n\\n的&得搞不清就算了\\n\\n最常見應因、在再不分，\\n\\n還有一堆以已、須需、卷券錯亂的...\\n\\n既然寫成即然，\\n\\n辜負打成姑負...不勝枚舉\\n\\n大家覺得哪個最讓你難接受呢？\\n\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925380.A.A93.html"},{"1":"Mon Mar 23 09:03:02 2020","2":"[新聞] 醫師兒出國挨轟 他反嗆：張上淳防疫無功","3":"ivorysoap","4":"新聞內容含有政治人物、機關類、政治族群類請以[政治]為分類，違者刪除!\\n1.媒體來源:ltn\\n\\n2.記者署名記者林南谷\\n\\n3.完整新聞標題:醫師兒出國挨轟 他反嗆：張上淳防疫無功？\\n\\n4.完整新聞內文:中央流行疫情指揮中心專家諮詢小組召集人張上淳的2名兒子，1人因為在醫護出國禁令頒\\n布後出國，另1人因為在臉書上對於相關政策用語激烈，引發外界議論。\\n\\n知名作家呂秋遠昨晚在臉書沉痛表示，在野黨不認真管理自己的不分區立委，放縱他大放\\n厥詞，認為中國空軍不斷騷擾台灣邊境「不是挑釁」，卻在疫情當道期間，攻擊陳時中指\\n揮官的兒子，「所以呢？兒子罷韓，老爸不適任指揮官？兒子出國，張上淳沒資格做召集\\n人？」\\n\\n呂秋遠怒轟，抱持這種論調的人，你家的兒子都是一個口令一個動作，家裡成員妻賢子孝\\n，爸爸以身做則，妻子兒子女兒孫子孫女就上行下效、風行草偃？他想請問：「你們家的\\n人是機器人，還是小白？怎麼這麼聽話？他們是道光年間穿越到民國的人嗎？」\\n\\n「不是不能批評，而是國民黨打不倒陳時中、張上淳，那就攻擊他們的孩子，讓這兩位防\\n疫有功的指揮官下台」，呂秋遠搖頭嘆氣表示，在這疫情最緊繃時間點，攻擊他們的兒子\\n做什麼，「還不就是項莊舞劍，志在沛公？」\\n\\n5.完整新聞連結 (或短網址):https://ent.ltn.com.tw/news/breakingnews/31090546.備註:--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925384.A.0B8.html"},{"1":"Mon Mar 23 09:03:11 2020","2":"[問卦] 幹你娘！鄉民女神竟被無情侮辱！！","3":"norvasc","4":"剛剛看到這篇報導https://i.imgur.com/7UC8dja.pnghttps://i.imgur.com/lBXm3m5.png原本以為line下面回覆  會是一片驚艷鄉民女神的美貌\\n\\n結果沒想到……\\n\\n一個比一個還毒舌\\n\\n講得好像比路人還醜一樣\\n\\n鄉民女神被侮辱  鄉民難道不生氣嗎！！\\n\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925393.A.62A.html"},{"1":"Mon Mar 23 09:03:17 2020","2":"Re: [新聞] 病毒非源自中國？專家: 義北去年11月就出","3":"hayate232","4":": 病毒非源自中國？專家: 義北去年11月就出現奇怪肺炎:聯合報/ 編譯徐榆涵／即時報導\\n\\n\\n我覺得拉，中國可不可以統一 一下說詞?\\n\\n\\n一下就華南海鮮市場，一下說來源不是中國，一下又說美軍帶過去，現在又變成義大利\\n是不是?\\n\\n\\n阿不就還好 日本 沒有大爆發，不然又要懷疑日本了\\n\\n\\n德 法 英 日 韓  排隊等著，加油 看還有誰可以賴，總之不是中國就是了對吧 啾\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925399.A.666.html"},{"1":"Mon Mar 23 09:04:24 2020","2":"[問卦] 認真鑑賞自己大便是不是病了？","3":"Yamapi5566","4":"阿肥我年紀有了開始健康生活，戒菸、運動都來，還固定早上大便，\\n大完便還會趴在馬桶邊開始鑑賞大便，細看紋路、質地、顏色跟形狀，\\n還會聞一聞味道，花三分鐘確定是健康的好大便才沖掉\\n\\n剛剛品評完大便突然覺得有點變態，我這樣是不是病了？有卦嗎？\\n\\n--","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925466.A.04D.html"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">push.table.all</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["tag"],"name":[1],"type":["chr"],"align":["left"]},{"label":["author"],"name":[2],"type":["chr"],"align":["left"]},{"label":["content"],"name":[3],"type":["chr"],"align":["left"]},{"label":["datetime"],"name":[4],"type":["chr"],"align":["left"]},{"label":["url"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"噓","2":"ryanmulee","3":": 新北不意外","4":"223.140.40.152 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"garybawbaw","3":": 400W人怎可能不高？","4":"101.12.67.152 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"JuiFu617","3":": 人口最密集","4":"59.115.115.99 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"lazo","3":": 南部衛生條件本來就比較不好啊","4":"223.137.192.84 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"justice0616","3":": 高雄0位","4":"223.136.75.226 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"hkahka","3":": 台男不意外","4":"1.200.216.174 03/23 08:51","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"justice0616","3":": 韓國瑜繼登革熱又ㄧ最新力作","4":"223.136.75.226 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"userpeter","3":": ？","4":"180.177.56.101 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"banbee100","3":": 按人口比例很正常啊","4":"114.39.132.251 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"sd09090","3":": 超會","4":"180.217.141.25 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"nikewang","3":": 人口400萬 再加上外勞+北漂族","4":"220.79.18.38 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"nobeldd","3":": 鬼","4":"223.140.113.196 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"Isveia","3":": 這倒底在帶什麼風向我看不懂，新北是全國","4":"61.58.63.135 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"KangSuat","3":": 柯黑:偶悶就是要黑柯的啦!","4":"36.238.94.193 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"LOLI5566","3":": 這篇想表達什麼","4":"49.216.171.72 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"papawen","3":": 應該要算沒有找到源頭的","4":"111.71.8.70 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"ellenleee","3":": 這種比法沒有意義","4":"49.216.161.244 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"Isveia","3":": 人口最多的地方，按比例來看會很奇怪嗎？","4":"61.58.63.135 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"D1","3":": 母數不用看？","4":"101.137.18.253 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"jerry810113","3":": 喔","4":"59.126.49.129 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"kevinpc","3":": 新北人口本來就比較多","4":"111.250.157.208 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"ryan7202","3":": 唉","4":"110.30.113.83 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"ducke","3":": 白粉要出征新北了，兩面作戰","4":"111.71.11.27 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"Dia149","3":": 難道柯屁？！","4":"223.137.97.134 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":     ,台北也才兩位阿。","4":"27.246.160.95 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":        侯友宜也太差了吧","4":"27.246.160.95 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"vowpool","3":": 人口密度高","4":"125.227.40.62 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"em4","3":": 零星","4":"110.26.62.103 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"A80211ab","3":": 人口比例高阿  這不是廢話","4":"36.235.13.214 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":     台北那麼密集也才兩位喔","4":"27.246.160.95 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"ww45625802","3":":    侯友宜會不會防疫阿？","4":"27.246.160.95 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"噓","2":"linceass","3":": 跑步哥好了啦","4":"110.50.142.180 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"tanted","3":": 應該發一篇以人口比例去算的","4":"111.241.6.41 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"andersonlin","3":": 這位是跑步哥吧，又要開始打侯囉","4":"27.52.33.20 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"tanted","3":": 不燃那些會來靠背","4":"111.241.6.41 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"gogorice","3":": 老實說，台北市的人更怕死，戴口罩比例","4":"223.136.193.87 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"andersonlin","3":": 不過要依人口比例算，桃園比較嚴重吧","4":"27.52.33.20 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"gogorice","3":": 超高","4":"223.136.193.87 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"→","2":"roywow","3":": 禁止新北人入台北","4":"223.137.140.169 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924651.A.B8B.html"},{"1":"推","2":"kamisun","3":": 你把死人兩個音唸快一點，就變成神了","4":"36.227.60.131 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924687.A.B08.html"},{"1":"推","2":"tungptt","3":": 樓上新發現 謝謝","4":"115.82.4.160 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924687.A.B08.html"},{"1":"→","2":"ryanmulee","3":": Mayor?","4":"223.140.40.152 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924711.A.32C.html"},{"1":"噓","2":"kuo1102","3":":   五樓室長天天被總裁肛屁眼","4":"219.100.37.233 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924711.A.32C.html"},{"1":"→","2":"wolver","3":": 部長以下","4":"59.126.50.163 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924711.A.32C.html"},{"1":"推","2":"KangSuat","3":": 社長","4":"36.238.94.193 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924711.A.32C.html"},{"1":"推","2":"deann","3":": 會長>社長>部長>室長  室長大概就課長級","4":"61.220.51.98 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924711.A.32C.html"},{"1":"推","2":"Iruvata","3":": 可以隨便踢房裡的人，應該滿大的","4":"49.216.168.130 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924711.A.32C.html"},{"1":"→","2":"sd09090","3":": 不該","4":"180.217.141.25 03/23 08:52","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"KMTSUCK","3":": 應該啦","4":"60.249.136.57 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"freshego","3":": 應啦幹","4":"60.248.89.235 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"cloud520","3":": 應","4":"223.137.196.201 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"→","2":"kuo1102","3":":          不用.  五樓可以拿來插屁眼","4":"219.100.37.233 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"deepdish","3":": 想太多","4":"220.134.89.190 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"→","2":"freshego","3":": 五樓又自肥","4":"60.248.89.235 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"推","2":"z520314","3":": 音質有大幅提升? 你有買過耳機?","4":"123.0.34.168 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"推","2":"Gunique","3":": 應啦幹","4":"140.134.50.179 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"Daedolon","3":": 使用高端耳機 鐵三角ckr100 笑而不語","4":"223.200.104.205 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"Jwfsm","3":": 因應不分的也該退場了","4":"42.72.33.60 03/23 08:53","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"zxp9505007","3":": 還是沒辦法代替銀線的細膩音質","4":"140.117.58.231 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"ballby","3":": 無線耳機那音質怎麼比","4":"163.29.137.250 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"ming1988","3":": 應啦幹","4":"27.242.62.15 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"p852258","3":": 應 可憐哪","4":"60.250.236.43 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"推","2":"ghost1236","3":": 應啦 幹","4":"114.45.101.59 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"SonyXperiaZ3","3":": 堅決不接受無線耳機的延遲問題！","4":"110.50.158.12 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"推","2":"LoveMakeLove","3":": 藍芽5.0還是有延遲更別說音質","4":"180.217.128.135 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"ryanmulee","3":": 有線耳機音質還是比無線好","4":"223.140.40.152 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"zakeur","3":": 你是用夜市50塊一條的是不是？","4":"110.26.6.198 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"推","2":"nikubou5566","3":": 我現在滑鼠鍵盤耳機手把都無線了 換","4":"49.216.214.151 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"→","2":"nikubou5566","3":": 完心情很好","4":"49.216.214.151 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"→","2":"LoveMakeLove","3":": 2、3000有線都贏10000真無線藍芽","4":"180.217.128.135 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"→","2":"ryanmulee","3":": 聽不出來的話倒是沒差","4":"223.140.40.152 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"→","2":"SonyXperiaZ3","3":": D8000pro改成無線耳機會哭死！","4":"110.50.158.12 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"k4653","3":": 國文老師才要退場了吧..","4":"114.42.88.4 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"推","2":"cmbyts","3":": 現在連保險套都無線了","4":"218.164.22.61 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"wwewcwwwf","3":": 無線才垃圾吧","4":"91.110.102.245 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"→","2":"LoveMakeLove","3":": 優點就是方便，剩下沒了。","4":"180.217.128.135 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"winddaemonj","3":": 國文課是不是都是數學老師代班？","4":"223.136.165.126 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"推","2":"mimiLin5566","3":": 你耳朵有問題吧","4":"223.137.21.87 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"sky568127","3":": 3.5比較好  你可以去耳機版發看看XD","4":"1.163.62.197 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"噓","2":"sxy67230","3":": 無線超充電 對於工作重度需求耳機者根","4":"180.204.69.63 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"→","2":"sxy67230","3":": 本不方便","4":"180.204.69.63 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"推","2":"chpen","3":": 還ok啦 我木耳能接受 重點是潮啊","4":"180.217.182.193 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924766.A.646.html"},{"1":"推","2":"KLGlikeshit","3":": 你是先知？","4":"203.74.125.252 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"推","2":"tanted","3":": 重點是有沒有口罩可以戴阿","4":"111.241.6.41 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"噓","2":"ivorysoap","3":": 如果韓總當選第二天外星人就攻打地球了","4":"27.247.190.92 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"噓","2":"swearflycc","3":": 別傻了  火神山只是口號啦 在高雄開","4":"42.77.212.40 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"→","2":"swearflycc","3":": 的支票那個兌現過?","4":"42.77.212.40 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"推","2":"joney641119","3":": 然後紅媒會主打還好小英沒當選~~~","4":"210.202.4.134 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"→","2":"joney641119","3":": 不然更慘","4":"210.202.4.134 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"噓","2":"swearflycc","3":": 推中央不給錢  推中央不給地  那叫國","4":"42.77.212.40 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"→","2":"swearflycc","3":": 小生來當市長就好了啊 說不定國小生","4":"42.77.212.40 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"→","2":"swearflycc","3":": 當的還比草包好","4":"42.77.212.40 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"→","2":"eierom","3":": 如果是韓絕對不可能像現在這樣，因為陸客","4":"42.75.150.53 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"→","2":"eierom","3":": 會被大量放進來台灣，絕對死很慘","4":"42.75.150.53 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924837.A.889.html"},{"1":"→","2":"KLGlikeshit","3":": 帶風向有錯嗎？","4":"203.74.125.252 03/23 08:54","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"sd09090","3":": nba呢","4":"180.217.141.25 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"噓","2":"ai1robert","3":": 偷換概念打泥巴仗真的一流","4":"1.164.226.210 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"cerberi","3":": 其實我覺得出國根本不該被批評","4":"223.136.93.36 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"cerberi","3":": 對里長是過分 對醫師也是過分","4":"223.136.93.36 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"cerberi","3":": 但獵巫的人不這麼認為 獵里長是正確","4":"223.136.93.36 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"radi035","3":": 說真的政府沒全禁 出國頂多道德小問題","4":"1.174.86.222 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"cerberi","3":": 你們想對應醫師 就是想鬥誇防疫指揮","4":"223.136.93.36 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"radi035","3":": 就垃圾想利用疫情炒一波支持度亂獵巫","4":"1.174.86.222 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"styal","3":": 重點是NBA嗎","4":"59.127.50.134 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"aij","3":": 就被綠共網軍雙標害慘了，綠共沒追殺里長","4":"210.242.194.197 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"cerberi","3":": 這種無敵的想法加重對立 無解","4":"223.136.93.36 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"aij","3":": 會這樣嗎？","4":"210.242.194.197 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"噓","2":"flybirdy","3":": 又怎樣 有看nba時中就該下台負責","4":"163.32.184.159 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"lwamp","3":": 領錢也合法 被罵時後你有來發文緩頰嗎","4":"180.217.131.249 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"噓","2":"davidcloud","3":": 雙標就是不可取","4":"223.136.137.166 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"tede0308","3":": 那句對話不是記者自己寫的嗎？那時流出","4":"1.169.207.12 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"tede0308","3":": 的line對話還是去年通知付訂金的對話","4":"1.169.207.12 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"噓","2":"book8685","3":": 你們真的很白漆 攻擊菲政治人物 拿得到","4":"118.165.138.176 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"justice0616","3":": 好可憐喔","4":"223.136.75.226 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"justice0616","3":": 我說你","4":"223.136.75.226 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"leona12","3":": 蠻像大阪事件的翻板","4":"223.136.193.39 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"噓","2":"chozenker","3":": 醫護不得出國 跟一二三沒關係別亂扯","4":"27.52.99.126 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"book8685","3":": 啥鄭治力易","4":"118.165.138.176 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"justice0616","3":": 二級不能出國嗎","4":"223.136.75.226 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"噓","2":"BlueString","3":": 里長領14000的部分  你可能也被操作","4":"163.16.64.198 03/23 09:02","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"BlueString","3":": 了","4":"163.16.64.198 03/23 09:02","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"pytzog","3":": 去查一下就會發現，各班失智列車的乘客其","4":"180.204.165.50 03/23 09:02","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"pytzog","3":": 實重疊率很高，都是那幾個低能被人當猴耍","4":"180.204.165.50 03/23 09:02","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"噓","2":"eddiego","3":": 不是吧這兩個小孩講話一副機掰鳥樣才被戰","4":"122.121.104.42 03/23 09:02","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"噓","2":"amfive","3":": 有line群組截圖，獨缺領一萬四的對話","4":"110.50.188.17 03/23 09:03","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"推","2":"win8719","3":": 醫護不得出國是一二三不能去會沒關係?","4":"1.34.196.173 03/23 09:03","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"噓","2":"vin312789","3":": 跟什麼美國危不危險有什麼關係 醫護不","4":"27.247.7.54 03/23 09:04","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"vin312789","3":": 能出國是規定懂?","4":"27.247.7.54 03/23 09:04","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924867.A.157.html"},{"1":"→","2":"KangSuat","3":": ㄎㄎ","4":"36.238.94.193 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"噓","2":"kuo1102","3":":      五樓肛六樓不給力被六樓割掉懶叫","4":"219.100.37.233 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"→","2":"ryanmulee","3":": 台男不意外","4":"223.140.40.152 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"LBJ23K","3":": 怕爆","4":"114.32.3.21 03/23 08:55","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"噓","2":"O300","3":": ....","4":"223.136.251.163 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"→","2":"O300","3":": 做愛做一做殺人","4":"223.136.251.163 03/23 08:56","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"→","2":"kt040","3":": 47歲 比較沒力好像合理阿","4":"111.243.53.135 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"TWilde","3":": 單押x1","4":"59.127.86.240 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"swgun","3":": 台男殺女 無期徒刑 台女殺男15年","4":"223.140.177.115 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"nikubou5566","3":": 40如狼？","4":"49.216.214.151 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"enkidu0830","3":": 母螳螂","4":"115.82.8.166 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"→","2":"vowpool","3":": 不夠爽就想東想西...女人好可怕喔","4":"125.227.40.62 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"loveinmars","3":": 哇操 你各位阿 會軟屌不要修感阿 會死","4":"118.171.184.249 03/23 08:57","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"LordOfCS","3":": 台男小心不要早洩啊","4":"111.83.18.222 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"keikochen","3":": 郭緩慢起身、走向尤女...好情境劇的FU","4":"59.120.243.46 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"kcclasaki","3":": 幹 好恐怖","4":"114.27.64.172 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"Yamapi5566","3":": 另兩名女性友人 這麼夯？","4":"1.169.18.169 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"pytzog","3":": 難道不是自己年老色衰，所以對方做到一半","4":"180.204.165.50 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"IHD","3":": 自助餐:先天要努力 種族血統母語國籍 加油","4":"118.168.217.103 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"→","2":"pytzog","3":": 才軟屌？","4":"180.204.165.50 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"Arnol","3":": 台女又調皮了","4":"61.223.57.55 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"→","2":"cynicalpony","3":": ....","4":"36.226.172.162 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"Killercat","3":": 老實講碰到精神狀況不太好的人真的會怕","4":"118.160.73.44 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"bybe","3":": 神經病ㄟ","4":"180.204.17.72 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"→","2":"Killercat","3":": 不要講什麼人正真好真愛無敵 都很危險","4":"118.160.73.44 03/23 09:00","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"→","2":"BaRanKa","3":": 中年低端XDDDD","4":"210.242.38.140 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"→","2":"BaRanKa","3":": 死沒有動靜 找他的也是兩個女的 真厲害","4":"210.242.38.140 03/23 09:02","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"STi2011","3":": 帶刀侍衛喔 還隨身刀子","4":"59.125.79.58 03/23 09:03","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"噓","2":"LJL452","3":": 記者在現場怎麼不救人啊","4":"111.240.8.93 03/23 09:04","5":"https://www.ptt.cc/bbs/Gossiping/M.1584924891.A.383.html"},{"1":"推","2":"KLGlikeshit","3":": 笑了","4":"203.74.125.252 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"噓","2":"okichan","3":": 肛她","4":"118.166.114.190 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"噓","2":"bill403777","3":": 跟她合唱","4":"114.137.242.18 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"推","2":"ryanmulee","3":": 肛到唱聲樂","4":"223.140.40.152 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"噓","2":"SonyXperiaZ3","3":": 五樓在捷運上被甲甲肛到唱聲樂","4":"110.50.158.12 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"→","2":"Flitz","3":": 樓下遇到五樓都怎麼處理","4":"223.136.183.219 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"噓","2":"O300","3":": 好自我的人哈哈哈","4":"223.136.251.163 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"噓","2":"o523874","3":": 是不是坐到你的GG","4":"111.71.5.230 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"→","2":"SonyXperiaZ3","3":": 幹 廢文請自刪","4":"110.50.158.12 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"→","2":"Flitz","3":": 五樓厲害了","4":"223.136.183.219 03/23 08:58","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"→","2":"kcclasaki","3":": 五樓音樂家","4":"114.27.64.172 03/23 08:59","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"→","2":"jackhenry959","3":": 五樓可憐","4":"27.242.68.154 03/23 09:01","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"→","2":"k2450","3":": 叫就叫 你叫我不叫","4":"220.135.251.153 03/23 09:02","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"噓","2":"vicious666","3":": 你要被咒殺了，100年後會死","4":"61.228.165.3 03/23 09:02","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"→","2":"star07","3":": 好怕","4":"101.12.63.4 03/23 09:04","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925067.A.811.html"},{"1":"噓","2":"lo0945","3":": 你乾脆挖一點起來吃","4":"1.200.212.90 03/23 09:04","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925466.A.04D.html"},{"1":"→","2":"yorkyoung","3":": 正常人都會看一下= =","4":"42.75.111.126 03/23 09:04","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925466.A.04D.html"},{"1":"噓","2":"SonyXperiaZ3","3":": 五樓最愛鑑賞甲甲的大便 還會吃掉","4":"110.50.158.12 03/23 09:05","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925466.A.04D.html"},{"1":"推","2":"michellehot","3":": 居然有人沒有撿起來吃 真的病了","4":"114.136.221.32 03/23 09:05","5":"https://www.ptt.cc/bbs/Gossiping/M.1584925466.A.04D.html"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="danger">
<p>
There is still one problem with the Push data frame. Right now it is still not very clear how we can match the pushes to the articles from which they were extracted. The only shared index is the <code>url</code>. It would be better if all the articles in the data frame have their own unique indices and in the Push data frame each push comment corresponds to a particular article index.
</p>
</div>
<hr />
<p>The following graph summarizes our work flowchart for PTT Gossipping Scraping:</p>
<p><img src="images/ptt-crawling.png" width="90%" /></p>
</div>
<div id="save-corpus" class="section level2">
<h2><span class="header-section-number">3.4</span> Save Corpus</h2>
<p>You can easily save your scaped texts in a <code>CSV</code> format.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="co"># Save ------</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="kw">write_csv</span>(article.table, <span class="dt">path =</span> <span class="st">&quot;PTT_GOSSIPPING_ARTICLE.csv&quot;</span>)</a>
<a class="sourceLine" id="cb45-3" data-line-number="3"><span class="kw">write_csv</span>(push.table, <span class="dt">path =</span> <span class="st">&quot;PTT_GOSSIPPING_PUSH.csv&quot;</span>)</a></code></pre></div>
</div>
<div id="additional-resourcess" class="section level2">
<h2><span class="header-section-number">3.5</span> Additional Resourcess</h2>
<p>Collecting texts and digitizing them into machine-readable files is only the initial step for corpus construction. There are many other things that need to be considered to ensure the effectiveness and the substainability of the corpus data. In particular, I would like to point you to a very useful resource, <a href="http://icar.cnrs.fr/ecole_thematique/contaci/documents/Baude/wynne.pdf">Developing Linguistic Corpora: A Guide to Good Practice</a>, compiled by Martin Wynne. Other important issues in corpus creation include:</p>
<ol style="list-style-type: decimal">
<li>Adding linguistic <strong>annotations</strong> to the corpus data (cf. Leech’s Chapter 2)</li>
<li><strong>Metadata</strong> representation of the documents (cf. Burnard’s Chapter 4)</li>
<li>Spoken corpora (cf. Thompson’s Chapter 5)</li>
<li>Technical parts for corpus creation (cf. Sinclair’s Appendix)</li>
</ol>
<hr />

<div class="exercise">
<span id="exr:wcex1" class="exercise"><strong>Exercise 3.1  </strong></span>Can you modify the R codes so that the script can automatically scrape more than one index page?
</div>


<div class="exercise">
<p><span id="exr:unnamed-chunk-37" class="exercise"><strong>Exercise 3.2  </strong></span>Please utilize the code from Exercise <a href="creating-corpus.html#exr:wcex1">3.1</a> and collect all texts on <code>PTT/Gossipings</code> from <strong>3</strong> index pages. Please have the articles saved in <code>PTT_GOSSIPING_ARTICLE.csv</code> and the pushes saved in <code>PTT_GOSSIPING_PUSH.csv</code> under your working directory.</p>
<p>Also, at the end of your code, please also output in the Console the corpus size, including both the articles and the pushes. Please provide the total number of <em>characters</em> of all your PTT text data collected (Note: You DO NOT have to do the word segmentation yet. Please use the characters as the base unit for corpus size.)</p>
Hint: <code>nchar()</code>
</div>


<div class="exercise">
<span id="exr:unnamed-chunk-38" class="exercise"><strong>Exercise 3.3  </strong></span>Now you should have basic ideas how we can crawl data from the Internet. Sometimes, we not only collect texts but statistics as well. Please try to collect the statistics of COVID-19 outbreak from the <a href="https://en.wikipedia.org/wiki/2019%E2%80%9320_coronavirus_pandemic">Wikipedia 2019–20 coronavirus pandemic</a>. Specifically, write a short script to automatically get the table included in the Wiki page, where the numbers of confirmed cases, deaths, and recoveries for each country are recorded. Your script should output a data frame as follows. Please name the columns of your data frame as follows as well. (Note: The numbers may vary because of the constant updates of the wiki page.)
</div>

<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["COUNTRY"],"name":[1],"type":["chr"],"align":["left"]},{"label":["CASES"],"name":[2],"type":["chr"],"align":["left"]},{"label":["DEATHS"],"name":[3],"type":["chr"],"align":["left"]},{"label":["RECOVERS"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"China (mainland)[d]","2":"81,054","3":"3,261","4":"72,244","_rn_":"3"},{"1":"Italy[e]","2":"59,138","3":"5,476","4":"7,024","_rn_":"4"},{"1":"United States[f][g]","2":"33,889","3":"428","4":"179","_rn_":"5"},{"1":"Spain","2":"28,603","3":"1,756","4":"2,575","_rn_":"6"},{"1":"Germany","2":"24,873","3":"94","4":"266","_rn_":"7"},{"1":"Iran[h]","2":"21,638","3":"1,685","4":"7,913","_rn_":"8"},{"1":"France[i]","2":"16,018","3":"674","4":"2,200","_rn_":"9"},{"1":"South Korea","2":"8,897","3":"104","4":"2,909","_rn_":"10"},{"1":"Switzerland[j]","2":"7,245","3":"98","4":"15","_rn_":"11"},{"1":"United Kingdom[k]","2":"5,702","3":"282","4":"140","_rn_":"12"},{"1":"Netherlands[l][m]","2":"4,216","3":"180","4":"–","_rn_":"13"},{"1":"Austria","2":"3,580","3":"16","4":"9","_rn_":"14"},{"1":"Belgium","2":"3,401","3":"75","4":"340","_rn_":"15"},{"1":"Norway[n]","2":"2,383","3":"7","4":"–","_rn_":"16"},{"1":"Sweden[o]","2":"1,934","3":"23","4":"16","_rn_":"17"},{"1":"Portugal","2":"1,600","3":"14","4":"5","_rn_":"18"},{"1":"Brazil","2":"1,546","3":"25","4":"2","_rn_":"19"},{"1":"Denmark[p][q][r]","2":"1,512","3":"13","4":"–","_rn_":"20"},{"1":"Canada","2":"1,470","3":"21","4":"18","_rn_":"21"},{"1":"Australia[s]","2":"1,356","3":"7","4":"43","_rn_":"22"},{"1":"Malaysia","2":"1,306","3":"10","4":"139","_rn_":"23"},{"1":"Turkey","2":"1,236","3":"30","4":"0","_rn_":"24"},{"1":"Czech Republic","2":"1,120","3":"1","4":"6","_rn_":"25"},{"1":"Japan","2":"1,086","3":"36","4":"235","_rn_":"26"},{"1":"Israel","2":"1,071","3":"1","4":"37","_rn_":"27"},{"1":"Ireland","2":"906","3":"4","4":"5","_rn_":"28"},{"1":"Luxembourg","2":"798","3":"8","4":"6","_rn_":"29"},{"1":"Ecuador","2":"789","3":"14","4":"3","_rn_":"30"},{"1":"Pakistan","2":"776","3":"5","4":"5","_rn_":"31"},{"1":"Diamond Princess[t]","2":"712","3":"9","4":"574","_rn_":"32"},{"1":"Poland","2":"634","3":"7","4":"1","_rn_":"33"},{"1":"Chile","2":"632","3":"1","4":"8","_rn_":"34"},{"1":"Finland[u]","2":"626","3":"1","4":"10","_rn_":"35"},{"1":"Greece","2":"624","3":"15","4":"19","_rn_":"36"},{"1":"Thailand","2":"599","3":"1","4":"45","_rn_":"37"},{"1":"Iceland","2":"568","3":"1","4":"36","_rn_":"38"},{"1":"Indonesia","2":"514","3":"48","4":"29","_rn_":"39"},{"1":"Saudi Arabia","2":"511","3":"0","4":"18","_rn_":"40"},{"1":"Qatar","2":"494","3":"0","4":"33","_rn_":"41"},{"1":"Singapore","2":"455","3":"2","4":"144","_rn_":"42"},{"1":"Romania","2":"433","3":"2","4":"64","_rn_":"43"},{"1":"Slovenia","2":"414","3":"2","4":"–","_rn_":"44"},{"1":"Philippines","2":"380","3":"25","4":"15","_rn_":"45"},{"1":"Russia[v]","2":"367","3":"0","4":"16","_rn_":"46"},{"1":"Peru","2":"363","3":"5","4":"1","_rn_":"47"},{"1":"India","2":"360","3":"7","4":"24","_rn_":"48"},{"1":"Bahrain","2":"334","3":"2","4":"149","_rn_":"49"},{"1":"Egypt[w]","2":"327","3":"14","4":"56","_rn_":"50"},{"1":"Estonia","2":"326","3":"0","4":"4","_rn_":"51"},{"1":"Hong Kong","2":"317","3":"4","4":"100","_rn_":"52"},{"1":"Panama","2":"313","3":"3","4":"0","_rn_":"53"},{"1":"South Africa","2":"274","3":"0","4":"0","_rn_":"54"},{"1":"Argentina","2":"266","3":"4","4":"27","_rn_":"55"},{"1":"Croatia","2":"254","3":"0","4":"5","_rn_":"56"},{"1":"Mexico","2":"251","3":"2","4":"4","_rn_":"57"},{"1":"Lebanon","2":"248","3":"4","4":"8","_rn_":"58"},{"1":"Iraq","2":"233","3":"20","4":"57","_rn_":"59"},{"1":"Colombia","2":"231","3":"2","4":"3","_rn_":"60"},{"1":"Serbia","2":"222","3":"2","4":"2","_rn_":"61"},{"1":"Dominican Republic","2":"202","3":"3","4":"0","_rn_":"62"},{"1":"Algeria","2":"201","3":"17","4":"65","_rn_":"63"},{"1":"Armenia","2":"194","3":"0","4":"2","_rn_":"64"},{"1":"Kuwait","2":"188","3":"0","4":"30","_rn_":"65"},{"1":"Bulgaria","2":"187","3":"3","4":"3","_rn_":"66"},{"1":"Slovakia","2":"185","3":"0","4":"7","_rn_":"67"},{"1":"San Marino","2":"175","3":"20","4":"4","_rn_":"68"},{"1":"Taiwan","2":"169","3":"2","4":"28","_rn_":"69"},{"1":"Uruguay","2":"158","3":"0","4":"0","_rn_":"70"},{"1":"United Arab Emirates","2":"153","3":"2","4":"38","_rn_":"71"},{"1":"Lithuania","2":"143","3":"1","4":"1","_rn_":"72"},{"1":"Latvia","2":"139","3":"0","4":"1","_rn_":"73"},{"1":"Costa Rica","2":"134","3":"2","4":"2","_rn_":"74"},{"1":"Hungary","2":"131","3":"6","4":"16","_rn_":"75"},{"1":"Bosnia and Herzegovina","2":"126","3":"1","4":"2","_rn_":"76"},{"1":"Morocco","2":"115","3":"4","4":"3","_rn_":"77"},{"1":"North Macedonia","2":"114","3":"1","4":"1","_rn_":"78"},{"1":"Vietnam","2":"113","3":"0","4":"17","_rn_":"79"},{"1":"Andorra","2":"112","3":"1","4":"1","_rn_":"80"},{"1":"Jordan","2":"112","3":"0","4":"1","_rn_":"81"},{"1":"New Zealand","2":"102","3":"0","4":"0","_rn_":"82"},{"1":"Moldova","2":"94","3":"1","4":"2","_rn_":"83"},{"1":"Malta","2":"90","3":"0","4":"2","_rn_":"84"},{"1":"Albania","2":"89","3":"2","4":"2","_rn_":"85"},{"1":"Brunei","2":"88","3":"0","4":"2","_rn_":"86"},{"1":"Cambodia","2":"84","3":"0","4":"2","_rn_":"87"},{"1":"Sri Lanka","2":"81","3":"0","4":"3","_rn_":"88"},{"1":"Venezuela","2":"77","3":"0","4":"15","_rn_":"89"},{"1":"Belarus","2":"76","3":"0","4":"15","_rn_":"90"},{"1":"Burkina Faso","2":"75","3":"4","4":"5","_rn_":"91"},{"1":"Cyprus[x]","2":"75","3":"0","4":"0","_rn_":"92"},{"1":"Tunisia","2":"75","3":"3","4":"1","_rn_":"93"},{"1":"Ukraine","2":"73","3":"3","4":"1","_rn_":"94"},{"1":"Senegal","2":"67","3":"0","4":"5","_rn_":"95"},{"1":"Azerbaijan","2":"65","3":"1","4":"10","_rn_":"96"},{"1":"Palestine","2":"59","3":"0","4":"17","_rn_":"97"},{"1":"Kazakhstan","2":"59","3":"0","4":"0","_rn_":"98"},{"1":"Oman","2":"55","3":"0","4":"17","_rn_":"99"},{"1":"Georgia","2":"54","3":"0","4":"3","_rn_":"100"},{"1":"Trinidad and Tobago","2":"50","3":"0","4":"0","_rn_":"101"},{"1":"Liechtenstein","2":"44","3":"0","4":"0","_rn_":"102"},{"1":"Uzbekistan","2":"43","3":"0","4":"0","_rn_":"103"},{"1":"Afghanistan","2":"40","3":"1","4":"1","_rn_":"104"},{"1":"Cameroon","2":"40","3":"0","4":"2","_rn_":"105"},{"1":"Northern Cyprus","2":"38","3":"0","4":"3","_rn_":"106"},{"1":"Cuba[y]","2":"35","3":"1","4":"0","_rn_":"107"},{"1":"Kosovo","2":"31","3":"0","4":"0","_rn_":"108"},{"1":"DR Congo","2":"30","3":"1","4":"0","_rn_":"109"},{"1":"Nigeria","2":"30","3":"0","4":"2","_rn_":"110"},{"1":"Mauritius","2":"28","3":"2","4":"0","_rn_":"111"},{"1":"Bangladesh","2":"27","3":"2","4":"3","_rn_":"112"},{"1":"Honduras","2":"26","3":"0","4":"0","_rn_":"113"},{"1":"Bolivia","2":"24","3":"0","4":"0","_rn_":"114"},{"1":"Ghana","2":"23","3":"1","4":"0","_rn_":"115"},{"1":"Monaco","2":"23","3":"0","4":"1","_rn_":"116"},{"1":"Paraguay","2":"22","3":"1","4":"0","_rn_":"117"},{"1":"Montenegro","2":"21","3":"1","4":"0","_rn_":"118"},{"1":"Guernsey","2":"20","3":"0","4":"0","_rn_":"119"},{"1":"Guatemala","2":"19","3":"1","4":"0","_rn_":"120"},{"1":"Jamaica","2":"19","3":"1","4":"2","_rn_":"121"},{"1":"Macau","2":"19","3":"0","4":"10","_rn_":"122"},{"1":"Rwanda","2":"19","3":"0","4":"0","_rn_":"123"},{"1":"Ivory Coast","2":"17","3":"0","4":"1","_rn_":"124"},{"1":"Togo","2":"16","3":"0","4":"0","_rn_":"125"},{"1":"Jersey","2":"15","3":"0","4":"0","_rn_":"126"},{"1":"Kenya","2":"15","3":"0","4":"0","_rn_":"127"},{"1":"Barbados","2":"14","3":"0","4":"0","_rn_":"128"},{"1":"Kyrgyzstan","2":"14","3":"0","4":"0","_rn_":"129"},{"1":"Maldives","2":"13","3":"0","4":"3","_rn_":"130"},{"1":"Tanzania","2":"12","3":"0","4":"0","_rn_":"131"},{"1":"Ethiopia","2":"11","3":"0","4":"0","_rn_":"132"},{"1":"Mongolia","2":"10","3":"0","4":"0","_rn_":"133"},{"1":"Seychelles","2":"7","3":"0","4":"0","_rn_":"134"},{"1":"Equatorial Guinea","2":"6","3":"0","4":"0","_rn_":"135"},{"1":"Gabon","2":"5","3":"1","4":"0","_rn_":"136"},{"1":"Isle of Man","2":"5","3":"0","4":"0","_rn_":"137"},{"1":"Suriname","2":"5","3":"0","4":"0","_rn_":"138"},{"1":"Bahamas","2":"4","3":"0","4":"0","_rn_":"139"},{"1":"Eswatini","2":"4","3":"0","4":"0","_rn_":"140"},{"1":"Guyana","2":"4","3":"1","4":"0","_rn_":"141"},{"1":"Cape Verde","2":"3","3":"0","4":"0","_rn_":"142"},{"1":"Central African Republic","2":"3","3":"0","4":"0","_rn_":"143"},{"1":"Republic of the Congo","2":"3","3":"0","4":"0","_rn_":"144"},{"1":"El Salvador","2":"3","3":"0","4":"0","_rn_":"145"},{"1":"Madagascar","2":"3","3":"0","4":"0","_rn_":"146"},{"1":"Liberia","2":"3","3":"0","4":"0","_rn_":"147"},{"1":"Namibia","2":"3","3":"0","4":"0","_rn_":"148"},{"1":"Zambia","2":"3","3":"0","4":"0","_rn_":"149"},{"1":"Zimbabwe","2":"3","3":"0","4":"0","_rn_":"150"},{"1":"Angola","2":"2","3":"0","4":"0","_rn_":"151"},{"1":"Benin","2":"2","3":"0","4":"0","_rn_":"152"},{"1":"Bhutan","2":"2","3":"0","4":"0","_rn_":"153"},{"1":"Fiji","2":"2","3":"0","4":"0","_rn_":"154"},{"1":"Guinea","2":"2","3":"0","4":"1","_rn_":"155"},{"1":"Haiti","2":"2","3":"0","4":"0","_rn_":"156"},{"1":"Mauritania","2":"2","3":"0","4":"0","_rn_":"157"},{"1":"Nicaragua","2":"2","3":"0","4":"0","_rn_":"158"},{"1":"Niger","2":"2","3":"0","4":"0","_rn_":"159"},{"1":"Saint Lucia","2":"2","3":"0","4":"0","_rn_":"160"},{"1":"Sudan","2":"2","3":"1","4":"0","_rn_":"161"},{"1":"Antigua and Barbuda","2":"1","3":"0","4":"0","_rn_":"162"},{"1":"Chad","2":"1","3":"0","4":"0","_rn_":"163"},{"1":"Dominica","2":"1","3":"0","4":"0","_rn_":"164"},{"1":"Djibouti","2":"1","3":"0","4":"0","_rn_":"165"},{"1":"Eritrea","2":"1","3":"0","4":"0","_rn_":"166"},{"1":"Gambia","2":"1","3":"0","4":"0","_rn_":"167"},{"1":"Grenada","2":"1","3":"0","4":"0","_rn_":"168"},{"1":"Mozambique","2":"1","3":"0","4":"0","_rn_":"169"},{"1":"Nepal","2":"1","3":"0","4":"1","_rn_":"170"},{"1":"Papua New Guinea","2":"1","3":"0","4":"0","_rn_":"171"},{"1":"St. Vincent and the Grenadines","2":"1","3":"0","4":"0","_rn_":"172"},{"1":"Somalia","2":"1","3":"0","4":"0","_rn_":"173"},{"1":"Syria","2":"1","3":"0","4":"0","_rn_":"174"},{"1":"East Timor","2":"1","3":"0","4":"0","_rn_":"175"},{"1":"Uganda","2":"1","3":"0","4":"0","_rn_":"176"},{"1":"Vatican City","2":"1","3":"0","4":"0","_rn_":"177"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

</div>
</div>
<h3> References</h3>
<div id="refs" class="references">
<div id="ref-munzert2014">
<p>Munzert, Simon, Christian Rubba, Peter Meißner, and Dominic Nyhuis. 2014. <em>Automated Data Collection with R: A Practical Guide to Web Scraping and Text Mining</em>. John Wiley &amp; Sons.</p>
</div>
</div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = "https:\/\/alvinntnu.github.io" + location.pathname;  // Replace PAGE_URL with your page's canonical URL variable
/*
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
*/
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://enc2036.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

          </div>
        </div>
      </div>
<a href="r-fundamentals.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="corpus-analysis-a-start.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
