<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 12 Vector Space Representation II | Corpus Linguistics</title>
  <meta name="description" content="ENC2036 Course material first edition" />
  <meta name="generator" content="bookdown 0.15 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 12 Vector Space Representation II | Corpus Linguistics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="ENC2036 Course material first edition" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 Vector Space Representation II | Corpus Linguistics" />
  
  <meta name="twitter:description" content="ENC2036 Course material first edition" />
  

<meta name="author" content="Alvin Chen" />


<meta name="date" content="2019-12-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="vector-space-representation.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="libs/font-awesome-5.3.1/css/fontawesome-all.min.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/viz-0.3/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.1/grViz.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://alvinntnu.github.io/NTNU_ENC2036/"><img src="images/alerts/home.svg" height = "20" width = "20"> Course Website</a></li>
<li><a href="./"><img src="images/alerts/book-solid.svg" height = "20" width = "20"> ENC 2036 Corpus Linguistics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-objective"><i class="fa fa-check"></i>Course Objective</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#textbook"><i class="fa fa-check"></i>Textbook</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-website"><i class="fa fa-check"></i>Course Website</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-demo-data"><i class="fa fa-check"></i>Course Demo Data</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="r-fundamentals.html"><a href="r-fundamentals.html"><i class="fa fa-check"></i><b>1</b> R Fundamentals</a><ul>
<li class="chapter" data-level="1.1" data-path="r-fundamentals.html"><a href="r-fundamentals.html#reminders"><i class="fa fa-check"></i><b>1.1</b> Reminders</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="creating-corpus.html"><a href="creating-corpus.html"><i class="fa fa-check"></i><b>2</b> Creating Corpus</a><ul>
<li class="chapter" data-level="2.1" data-path="creating-corpus.html"><a href="creating-corpus.html#html-structure"><i class="fa fa-check"></i><b>2.1</b> HTML Structure</a><ul>
<li class="chapter" data-level="2.1.1" data-path="creating-corpus.html"><a href="creating-corpus.html#html-syntax"><i class="fa fa-check"></i><b>2.1.1</b> HTML Syntax</a></li>
<li class="chapter" data-level="2.1.2" data-path="creating-corpus.html"><a href="creating-corpus.html#tags-and-attributes"><i class="fa fa-check"></i><b>2.1.2</b> Tags and Attributes</a></li>
<li class="chapter" data-level="2.1.3" data-path="creating-corpus.html"><a href="creating-corpus.html#css"><i class="fa fa-check"></i><b>2.1.3</b> CSS</a></li>
<li class="chapter" data-level="2.1.4" data-path="creating-corpus.html"><a href="creating-corpus.html#html-css-javascript"><i class="fa fa-check"></i><b>2.1.4</b> HTML + CSS ( + JavaScript)</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="creating-corpus.html"><a href="creating-corpus.html#web-crawling"><i class="fa fa-check"></i><b>2.2</b> Web Crawling</a></li>
<li class="chapter" data-level="2.3" data-path="creating-corpus.html"><a href="creating-corpus.html#functional-programming"><i class="fa fa-check"></i><b>2.3</b> Functional Programming</a></li>
<li class="chapter" data-level="2.4" data-path="creating-corpus.html"><a href="creating-corpus.html#save-corpus"><i class="fa fa-check"></i><b>2.4</b> Save Corpus</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html"><i class="fa fa-check"></i><b>3</b> Corpus Analysis: A Start</a><ul>
<li class="chapter" data-level="3.1" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#installing-quanteda"><i class="fa fa-check"></i><b>3.1</b> Installing <code>quanteda</code></a></li>
<li class="chapter" data-level="3.2" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#building-a-corpus-from-character-vector"><i class="fa fa-check"></i><b>3.2</b> Building a <code>corpus</code> from character vector</a></li>
<li class="chapter" data-level="3.3" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#keyword-in-context-kwic"><i class="fa fa-check"></i><b>3.3</b> Keyword-in-Context (KWIC)</a></li>
<li class="chapter" data-level="3.4" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#kwic-with-regular-expressions"><i class="fa fa-check"></i><b>3.4</b> KWIC with Regular Expressions</a></li>
<li class="chapter" data-level="3.5" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#tidy-text-format-of-the-corpus"><i class="fa fa-check"></i><b>3.5</b> Tidy Text Format of the Corpus</a></li>
<li class="chapter" data-level="3.6" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#frequency-lists"><i class="fa fa-check"></i><b>3.6</b> Frequency Lists</a></li>
<li class="chapter" data-level="3.7" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#collocations"><i class="fa fa-check"></i><b>3.7</b> Collocations</a></li>
<li class="chapter" data-level="3.8" data-path="corpus-analysis-a-start.html"><a href="corpus-analysis-a-start.html#word-cloud"><i class="fa fa-check"></i><b>3.8</b> Word Cloud</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tokenization.html"><a href="tokenization.html"><i class="fa fa-check"></i><b>4</b> Tokenization</a><ul>
<li class="chapter" data-level="4.1" data-path="tokenization.html"><a href="tokenization.html#english-tokenization"><i class="fa fa-check"></i><b>4.1</b> English Tokenization</a></li>
<li class="chapter" data-level="4.2" data-path="tokenization.html"><a href="tokenization.html#text-analytics-pipeline"><i class="fa fa-check"></i><b>4.2</b> Text Analytics Pipeline</a></li>
<li class="chapter" data-level="4.3" data-path="tokenization.html"><a href="tokenization.html#proper-units-for-analysis"><i class="fa fa-check"></i><b>4.3</b> Proper Units for Analysis</a><ul>
<li class="chapter" data-level="4.3.1" data-path="tokenization.html"><a href="tokenization.html#sentence-tokenization"><i class="fa fa-check"></i><b>4.3.1</b> Sentence Tokenization</a></li>
<li class="chapter" data-level="4.3.2" data-path="tokenization.html"><a href="tokenization.html#words-tokenization"><i class="fa fa-check"></i><b>4.3.2</b> Words Tokenization</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tokenization.html"><a href="tokenization.html#lexical-bundles-n-grams"><i class="fa fa-check"></i><b>4.4</b> Lexical Bundles (n-grams)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html"><i class="fa fa-check"></i><b>5</b> Parts-of-Speech Tagging</a><ul>
<li class="chapter" data-level="5.1" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#parts-of-speech-tagging-1"><i class="fa fa-check"></i><b>5.1</b> Parts-of-Speech Tagging</a></li>
<li class="chapter" data-level="5.2" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#metalingusitic-analysis"><i class="fa fa-check"></i><b>5.2</b> Metalingusitic Analysis</a></li>
<li class="chapter" data-level="5.3" data-path="parts-of-speech-tagging.html"><a href="parts-of-speech-tagging.html#saving-pos-tagged-texts"><i class="fa fa-check"></i><b>5.3</b> Saving POS-tagged Texts</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="keyword-analysis.html"><a href="keyword-analysis.html"><i class="fa fa-check"></i><b>6</b> Keyword Analysis</a></li>
<li class="chapter" data-level="7" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html"><i class="fa fa-check"></i><b>7</b> Constructions and Idioms</a><ul>
<li class="chapter" data-level="7.1" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#chinese-four-character-idioms"><i class="fa fa-check"></i><b>7.1</b> Chinese Four-character Idioms</a></li>
<li class="chapter" data-level="7.2" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#dictionary-entries"><i class="fa fa-check"></i><b>7.2</b> Dictionary Entries</a></li>
<li class="chapter" data-level="7.3" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#case-study-x來y去"><i class="fa fa-check"></i><b>7.3</b> Case Study: <code>X來Y去</code></a></li>
<li class="chapter" data-level="7.4" data-path="constructions-and-idioms.html"><a href="constructions-and-idioms.html#exercises"><i class="fa fa-check"></i><b>7.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html"><i class="fa fa-check"></i><b>8</b> Chinese Text Processing</a><ul>
<li class="chapter" data-level="8.1" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#chinese-word-segmenter-jiebar"><i class="fa fa-check"></i><b>8.1</b> Chinese Word Segmenter <code>jiebaR</code></a><ul>
<li class="chapter" data-level="8.1.1" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#start"><i class="fa fa-check"></i><b>8.1.1</b> Start</a></li>
<li class="chapter" data-level="8.1.2" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#settings"><i class="fa fa-check"></i><b>8.1.2</b> Settings</a></li>
<li class="chapter" data-level="8.1.3" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#user-defined-dictionary"><i class="fa fa-check"></i><b>8.1.3</b> User-defined dictionary</a></li>
<li class="chapter" data-level="8.1.4" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#stopwords"><i class="fa fa-check"></i><b>8.1.4</b> Stopwords</a></li>
<li class="chapter" data-level="8.1.5" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#pos-tagging"><i class="fa fa-check"></i><b>8.1.5</b> POS Tagging</a></li>
<li class="chapter" data-level="8.1.6" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#default"><i class="fa fa-check"></i><b>8.1.6</b> Default</a></li>
<li class="chapter" data-level="8.1.7" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#reminder"><i class="fa fa-check"></i><b>8.1.7</b> Reminder</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#chinese-text-analytics-pipeline"><i class="fa fa-check"></i><b>8.2</b> Chinese Text Analytics Pipeline</a></li>
<li class="chapter" data-level="8.3" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#case-study-1-word-frequency-and-wordcloud"><i class="fa fa-check"></i><b>8.3</b> Case Study 1: Word Frequency and Wordcloud</a></li>
<li class="chapter" data-level="8.4" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#case-study-2-patterns"><i class="fa fa-check"></i><b>8.4</b> Case Study 2: Patterns</a></li>
<li class="chapter" data-level="8.5" data-path="chinese-text-processing.html"><a href="chinese-text-processing.html#case-study-3-lexical-bundles"><i class="fa fa-check"></i><b>8.5</b> Case Study 3: Lexical Bundles</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="structured-corpus.html"><a href="structured-corpus.html"><i class="fa fa-check"></i><b>9</b> Structured Corpus</a><ul>
<li class="chapter" data-level="9.1" data-path="structured-corpus.html"><a href="structured-corpus.html#nccu-spoken-mandarin"><i class="fa fa-check"></i><b>9.1</b> NCCU Spoken Mandarin</a><ul>
<li class="chapter" data-level="9.1.1" data-path="structured-corpus.html"><a href="structured-corpus.html#loading-the-corpus"><i class="fa fa-check"></i><b>9.1.1</b> Loading the Corpus</a></li>
<li class="chapter" data-level="9.1.2" data-path="structured-corpus.html"><a href="structured-corpus.html#line-segmentation"><i class="fa fa-check"></i><b>9.1.2</b> Line Segmentation</a></li>
<li class="chapter" data-level="9.1.3" data-path="structured-corpus.html"><a href="structured-corpus.html#metadata-vs.transcript"><i class="fa fa-check"></i><b>9.1.3</b> Metadata vs. Transcript</a></li>
<li class="chapter" data-level="9.1.4" data-path="structured-corpus.html"><a href="structured-corpus.html#word-tokenization"><i class="fa fa-check"></i><b>9.1.4</b> Word Tokenization</a></li>
<li class="chapter" data-level="9.1.5" data-path="structured-corpus.html"><a href="structured-corpus.html#word-frequencies-and-wordcloud"><i class="fa fa-check"></i><b>9.1.5</b> Word frequencies and Wordcloud</a></li>
<li class="chapter" data-level="9.1.6" data-path="structured-corpus.html"><a href="structured-corpus.html#concordances"><i class="fa fa-check"></i><b>9.1.6</b> Concordances</a></li>
<li class="chapter" data-level="9.1.7" data-path="structured-corpus.html"><a href="structured-corpus.html#n-grams-lexical-bundles"><i class="fa fa-check"></i><b>9.1.7</b> N-grams (Lexical Bundles)</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="structured-corpus.html"><a href="structured-corpus.html#connecting-spid-to-metadata"><i class="fa fa-check"></i><b>9.2</b> Connecting SPID to Metadata</a></li>
<li class="chapter" data-level="9.3" data-path="structured-corpus.html"><a href="structured-corpus.html#more-socialinguistic-analyses"><i class="fa fa-check"></i><b>9.3</b> More Socialinguistic Analyses</a><ul>
<li class="chapter" data-level="9.3.1" data-path="structured-corpus.html"><a href="structured-corpus.html#check-ngram-distribution-by-age-groups"><i class="fa fa-check"></i><b>9.3.1</b> Check Ngram Distribution By Age Groups</a></li>
<li class="chapter" data-level="9.3.2" data-path="structured-corpus.html"><a href="structured-corpus.html#check-word-distribution-of-different-genders"><i class="fa fa-check"></i><b>9.3.2</b> Check Word Distribution of different genders</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="xml.html"><a href="xml.html"><i class="fa fa-check"></i><b>10</b> XML</a><ul>
<li class="chapter" data-level="10.1" data-path="xml.html"><a href="xml.html#bnc-spoken-2014"><i class="fa fa-check"></i><b>10.1</b> BNC Spoken 2014</a></li>
<li class="chapter" data-level="10.2" data-path="xml.html"><a href="xml.html#process-the-whole-directory-of-bnc2014-sample"><i class="fa fa-check"></i><b>10.2</b> Process the Whole Directory of BNC2014 Sample</a><ul>
<li class="chapter" data-level="10.2.1" data-path="xml.html"><a href="xml.html#define-function"><i class="fa fa-check"></i><b>10.2.1</b> Define Function</a></li>
<li class="chapter" data-level="10.2.2" data-path="xml.html"><a href="xml.html#process-the-all-files-in-the-directory"><i class="fa fa-check"></i><b>10.2.2</b> Process the all files in the Directory</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="xml.html"><a href="xml.html#metadata"><i class="fa fa-check"></i><b>10.3</b> Metadata</a><ul>
<li class="chapter" data-level="10.3.1" data-path="xml.html"><a href="xml.html#text-metadata"><i class="fa fa-check"></i><b>10.3.1</b> Text Metadata</a></li>
<li class="chapter" data-level="10.3.2" data-path="xml.html"><a href="xml.html#speaker-metadata"><i class="fa fa-check"></i><b>10.3.2</b> Speaker Metadata</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="xml.html"><a href="xml.html#bnc2014-for-socialinguistic-variation"><i class="fa fa-check"></i><b>10.4</b> BNC2014 for Socialinguistic Variation</a><ul>
<li class="chapter" data-level="10.4.1" data-path="xml.html"><a href="xml.html#word-frequency-vs.gender"><i class="fa fa-check"></i><b>10.4.1</b> Word Frequency vs. Gender</a></li>
<li class="chapter" data-level="10.4.2" data-path="xml.html"><a href="xml.html#degree-adv-adj"><i class="fa fa-check"></i><b>10.4.2</b> Degree ADV + ADJ</a></li>
<li class="chapter" data-level="10.4.3" data-path="xml.html"><a href="xml.html#trigrams"><i class="fa fa-check"></i><b>10.4.3</b> Trigrams</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="vector-space-representation.html"><a href="vector-space-representation.html"><i class="fa fa-check"></i><b>11</b> Vector Space Representation</a><ul>
<li class="chapter" data-level="11.1" data-path="vector-space-representation.html"><a href="vector-space-representation.html#data-processing-flowchart"><i class="fa fa-check"></i><b>11.1</b> Data Processing Flowchart</a></li>
<li class="chapter" data-level="11.2" data-path="vector-space-representation.html"><a href="vector-space-representation.html#document-feature-matrix-dfm"><i class="fa fa-check"></i><b>11.2</b> Document-Feature Matrix (<code>dfm</code>)</a></li>
<li class="chapter" data-level="11.3" data-path="vector-space-representation.html"><a href="vector-space-representation.html#defining-feature-in-dfm"><i class="fa fa-check"></i><b>11.3</b> Defining <code>Feature</code> in <code>dfm</code></a></li>
<li class="chapter" data-level="11.4" data-path="vector-space-representation.html"><a href="vector-space-representation.html#feature-selection"><i class="fa fa-check"></i><b>11.4</b> Feature Selection</a><ul>
<li class="chapter" data-level="11.4.1" data-path="vector-space-representation.html"><a href="vector-space-representation.html#determining-linguistic-granularity"><i class="fa fa-check"></i><b>11.4.1</b> Determining Linguistic Granularity</a></li>
<li class="chapter" data-level="11.4.2" data-path="vector-space-representation.html"><a href="vector-space-representation.html#stopwords-1"><i class="fa fa-check"></i><b>11.4.2</b> Stopwords</a></li>
<li class="chapter" data-level="11.4.3" data-path="vector-space-representation.html"><a href="vector-space-representation.html#distributional-cut-offs-for-features"><i class="fa fa-check"></i><b>11.4.3</b> Distributional Cut-offs for Features</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="vector-space-representation.html"><a href="vector-space-representation.html#applying-dfm"><i class="fa fa-check"></i><b>11.5</b> Applying DFM</a><ul>
<li class="chapter" data-level="11.5.1" data-path="vector-space-representation.html"><a href="vector-space-representation.html#wordcloud"><i class="fa fa-check"></i><b>11.5.1</b> Wordcloud</a></li>
<li class="chapter" data-level="11.5.2" data-path="vector-space-representation.html"><a href="vector-space-representation.html#document-similarity"><i class="fa fa-check"></i><b>11.5.2</b> Document Similarity</a></li>
<li class="chapter" data-level="11.5.3" data-path="vector-space-representation.html"><a href="vector-space-representation.html#feature-similarity"><i class="fa fa-check"></i><b>11.5.3</b> Feature Similarity</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html"><i class="fa fa-check"></i><b>12</b> Vector Space Representation II</a><ul>
<li class="chapter" data-level="12.1" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#a-quick-view"><i class="fa fa-check"></i><b>12.1</b> A Quick View</a></li>
<li class="chapter" data-level="12.2" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#loading-the-corpus-1"><i class="fa fa-check"></i><b>12.2</b> Loading the Corpus</a></li>
<li class="chapter" data-level="12.3" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#semgentation"><i class="fa fa-check"></i><b>12.3</b> Semgentation</a></li>
<li class="chapter" data-level="12.4" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#corpus-metadata"><i class="fa fa-check"></i><b>12.4</b> Corpus Metadata</a></li>
<li class="chapter" data-level="12.5" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#document-feature-matrix"><i class="fa fa-check"></i><b>12.5</b> Document-Feature Matrix</a></li>
<li class="chapter" data-level="12.6" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#wordcloud-1"><i class="fa fa-check"></i><b>12.6</b> Wordcloud</a></li>
<li class="chapter" data-level="12.7" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#document-similarity-1"><i class="fa fa-check"></i><b>12.7</b> Document Similarity</a></li>
<li class="chapter" data-level="12.8" data-path="vector-space-representation-ii.html"><a href="vector-space-representation-ii.html#feature-similarity-1"><i class="fa fa-check"></i><b>12.8</b> Feature Similarity</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>13</b> References</a></li>
<li class="divider"></li>
<li><a href="https://web.ntnu.edu.tw/~alvinchen" target ="blank">Alvin Chen </a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Corpus Linguistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vector-space-representation-ii" class="section level1">
<h1><span class="header-section-number">Chapter 12</span> Vector Space Representation II</h1>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb216-2" data-line-number="2"><span class="kw">library</span>(quanteda)</a>
<a class="sourceLine" id="cb216-3" data-line-number="3"><span class="kw">library</span>(readtext)</a>
<a class="sourceLine" id="cb216-4" data-line-number="4"><span class="kw">library</span>(jiebaR)</a></code></pre></div>
<hr />
<div class="figure"><span id="fig:cpf"></span>
<img src="images/r-nlp-workflow.png" alt="Corpus Processing Flowchart" width="90%" />
<p class="caption">
Figure 12.1: Corpus Processing Flowchart
</p>
</div>
<hr />
<p>In Chapter <a href="vector-space-representation.html#vector-space-representation">11</a>, we have demonstrated the potential of a vector representation of documents with the English data. Here, we would like to look at the Chinese data in more detail.</p>
<p>In the corpus data processing flowchart, as repeated below (Figure <a href="vector-space-representation-ii.html#fig:cpf">12.1</a>), we need to deal with the word segmentation with the Chinese data. This prevents us from creating a <code>dfm</code> directly from a <code>corpus</code> object because the default internal word tokenization in <code>quanteda</code> is <strong>not</strong> optimized for non-English languages.</p>
<p>In this chapter, we will be using the dataset <code>TaiwanPresidentalSpeech.zip</code> in our <code>demo_data</code> directory. Please make sure that you have downloaded the dataset from <code>demo_data</code>.</p>
<div id="a-quick-view" class="section level2">
<h2><span class="header-section-number">12.1</span> A Quick View</h2>
<p>For Chinese data, the major preprocessing steps have been highlighted in Figure <a href="vector-space-representation-ii.html#fig:cpf">12.1</a>:</p>
<ol style="list-style-type: decimal">
<li>First read in the corpus using <code>readtext()</code> and create corpus <code>data.frame</code> object</li>
<li>Subset the text column of the corpus <code>data.frame</code> for word segmentation</li>
<li>Tokenize the texts using <code>segment()</code> in <code>jiebaR</code>and convert the output into a <code>token</code> object using <code>as.token()</code>.</li>
</ol>
<p>A <code>token</code> object is properly defined in <code>quanteda</code>, with many similar functions as a <code>corpus</code> object. This is the most important trick with the Chinese data.</p>
<div class="danger">
<p>
When you utilize many different libaries in R for your tasks, one thing you need to keep in your mind is that you need to fully understand what kind of objects you are dealing with. That is, you need to keep track of every variable you create in your script in terms of their <strong>object type/class</strong>. A <code>vector</code> is different from a <code>list</code>; a <code>list</code> is different from a <code>token</code>. Also, some of the object classes are predefined in R (e.g., <code>vector</code>, <code>data.frame</code>) while others are defined in specific libararies (e.g., <code>corpus</code>, <code>token</code>, <code>dfm</code>). As a habit, always check your object class (i.e., <code>class()</code>).
</p>
</div>
</div>
<div id="loading-the-corpus-1" class="section level2">
<h2><span class="header-section-number">12.2</span> Loading the Corpus</h2>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb217-1" data-line-number="1">corp_tw &lt;-<span class="st"> </span><span class="kw">readtext</span>(<span class="dt">file=</span><span class="st">&quot;demo_data/TW_President.tar.gz&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>as_tibble</a>
<a class="sourceLine" id="cb217-2" data-line-number="2"><span class="kw">class</span>(corp_tw)</a></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb219-1" data-line-number="1">corp_tw <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb219-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">text =</span> <span class="kw">str_sub</span>(text, <span class="dv">1</span>,<span class="dv">20</span>))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["doc_id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["text"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"1948_1_JIANGZHONGZHENG.txt","2":"中正承國民大會依照憲法選舉為中華民國總統"},{"1":"1954_2_JIANGZHONGZHENG.txt","2":"我大陸淪陷，已經四載。全體同胞正遭受著俄"},{"1":"1960_3_JIANGZHONGZHENG.txt","2":"國民大會第三次會議，重新選舉中正，賦予先"},{"1":"1966_4_JIANGZHONGZHENG.txt","2":"國民大會第四次會議，根據憲法，代表全國人"},{"1":"1972_5_JIANGZHONGZHENG.txt","2":"中正今天再度接受全國國民之付託，國民大會"},{"1":"1978_6_JIANGJINGGUO.txt","2":"國民大會受國民付託，依據憲法，選舉經國為"},{"1":"1984_7_JIANGJINGGUO.txt","2":"親愛的全國同胞們、諸位貴賓：\\n\\n　　國民"},{"1":"1990_8_LIDEHUI.txt","2":"開創中華民族的新時代\\n\\n親愛的全國同胞、"},{"1":"1996_9_LIDEHUI.txt","2":"經營大台灣，建立新中原\\n\\n各位遠道而來的"},{"1":"2000_10_CHENSHUIBIAN.txt","2":"台灣站起來——迎接向上提升的新時代\\n\\n各"},{"1":"2004_11_CHENSHUIBIAN.txt","2":"為永續台灣奠基\\n\\n各位友邦元首、使節及代"},{"1":"2008_12_MAYANGJIU.txt","2":"人民奮起，台灣新生\\n\\n各位友邦元首、各位"},{"1":"2012_13_MAYANGJIU.txt","2":"堅持理想、攜手改革、打造幸福臺灣\\n\\n各位"},{"1":"2016_14_CAYANGWEN.txt","2":"為年輕人打造一個更好的國家\\n\\n各位友邦的"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>NB: <code>readtext()</code> creates a <code>readtext</code> or <code>data.frame</code> object. Following the tidy principle, we convert everything into <code>tibble</code>.</p>
</div>
<div id="semgentation" class="section level2">
<h2><span class="header-section-number">12.3</span> Semgentation</h2>
<p>Three important sub-steps in this part:</p>
<ul>
<li>initialize word segmenter, where a user dictionary is defined (Always use own dictionary to improve the performance of word segmentation)</li>
<li>subset the text column of <code>corp_tw</code></li>
<li>tokenize the texts and convert the output into a <em>quanteda</em>-compatible object, <code>token</code></li>
</ul>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" data-line-number="1"><span class="co"># initialize segmenter</span></a>
<a class="sourceLine" id="cb220-2" data-line-number="2">chi_seg &lt;-<span class="st"> </span><span class="kw">worker</span>(<span class="dt">bylines =</span> T, <span class="dt">user =</span> <span class="st">&quot;demo_data/dict-ch-user.txt&quot;</span>)</a>
<a class="sourceLine" id="cb220-3" data-line-number="3"></a>
<a class="sourceLine" id="cb220-4" data-line-number="4">corp_tw_tokens &lt;-<span class="st"> </span>corp_tw<span class="op">$</span>text <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">segment</span>(<span class="dt">jiebar =</span> chi_seg) <span class="op">%&gt;%</span><span class="st"> </span>as.tokens</a>
<a class="sourceLine" id="cb220-5" data-line-number="5"></a>
<a class="sourceLine" id="cb220-6" data-line-number="6"><span class="kw">class</span>(corp_tw_tokens)</a></code></pre></div>
<pre><code>## [1] &quot;tokens&quot;</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" data-line-number="1">corp_tw_tokens<span class="op">$</span>text14[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a></code></pre></div>
<pre><code>##  [1] &quot;為&quot;     &quot;年輕人&quot; &quot;打造&quot;   &quot;一個&quot;   &quot;更好&quot;   &quot;的&quot;     &quot;國家&quot;   &quot;各位&quot;  
##  [9] &quot;友邦&quot;   &quot;的&quot;</code></pre>
</div>
<div id="corpus-metadata" class="section level2">
<h2><span class="header-section-number">12.4</span> Corpus Metadata</h2>
<p>When we subset the texts from <code>corp_tw</code> for word segmentation, all the metadata connected to the texts did not go with the texts. So the <code>corp_tw_tokens</code> did not have any metadata information. All you have is some arbitrary index to each text.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" data-line-number="1"><span class="kw">docvars</span>(corp_tw_tokens)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]}],"data":[{"_rn_":"text1"},{"_rn_":"text2"},{"_rn_":"text3"},{"_rn_":"text4"},{"_rn_":"text5"},{"_rn_":"text6"},{"_rn_":"text7"},{"_rn_":"text8"},{"_rn_":"text9"},{"_rn_":"text10"},{"_rn_":"text11"},{"_rn_":"text12"},{"_rn_":"text13"},{"_rn_":"text14"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>So here we extract metadata information from the original filenames of each text stored in the <code>corp_tw</code>, and attach this metadata to <code>corp_tw_tokens</code>.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb225-1" data-line-number="1">corp_tw_meta &lt;-corp_tw <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb225-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="op">-</span>text) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb225-3" data-line-number="3"><span class="st">  </span><span class="kw">separate</span>(doc_id, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;YEAR&quot;</span>,<span class="st">&quot;TERM&quot;</span>,<span class="st">&quot;PRESIDENT&quot;</span>),<span class="dt">sep =</span> <span class="st">&quot;_&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb225-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">PRESIDENT =</span> <span class="kw">str_replace</span>(PRESIDENT, <span class="st">&quot;.txt&quot;</span>,<span class="st">&quot;&quot;</span>))</a>
<a class="sourceLine" id="cb225-5" data-line-number="5">corp_tw_meta</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["YEAR"],"name":[1],"type":["chr"],"align":["left"]},{"label":["TERM"],"name":[2],"type":["chr"],"align":["left"]},{"label":["PRESIDENT"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"1948","2":"1","3":"JIANGZHONGZHENG"},{"1":"1954","2":"2","3":"JIANGZHONGZHENG"},{"1":"1960","2":"3","3":"JIANGZHONGZHENG"},{"1":"1966","2":"4","3":"JIANGZHONGZHENG"},{"1":"1972","2":"5","3":"JIANGZHONGZHENG"},{"1":"1978","2":"6","3":"JIANGJINGGUO"},{"1":"1984","2":"7","3":"JIANGJINGGUO"},{"1":"1990","2":"8","3":"LIDEHUI"},{"1":"1996","2":"9","3":"LIDEHUI"},{"1":"2000","2":"10","3":"CHENSHUIBIAN"},{"1":"2004","2":"11","3":"CHENSHUIBIAN"},{"1":"2008","2":"12","3":"MAYANGJIU"},{"1":"2012","2":"13","3":"MAYANGJIU"},{"1":"2016","2":"14","3":"CAYANGWEN"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" data-line-number="1"><span class="kw">docvars</span>(corp_tw_tokens) &lt;-<span class="st"> </span>corp_tw_meta</a></code></pre></div>
</div>
<div id="document-feature-matrix" class="section level2">
<h2><span class="header-section-number">12.5</span> Document-Feature Matrix</h2>
<p>Now that we have a <code>token</code> version of our corpus, we can create <code>dfm</code> using the <code>dfm()</code> in <code>quanteda</code>. Also, we can take care of the feature selection (cf. <a href="vector-space-representation.html#feature-selection">11.4</a>) using functions like <code>dfm_trim()</code>, <code>dfm_select()</code>.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb227-1" data-line-number="1">corp_tw_dfm &lt;-<span class="st"> </span>corp_tw_tokens <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb227-2" data-line-number="2"><span class="st">  </span><span class="kw">dfm</span>(<span class="dt">reove_punc =</span> T) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb227-3" data-line-number="3"><span class="st">  </span><span class="kw">dfm_trim</span>(<span class="dt">min_termfreq =</span> <span class="dv">10</span>, <span class="dt">termfreq_type =</span> <span class="st">&quot;count&quot;</span>,</a>
<a class="sourceLine" id="cb227-4" data-line-number="4">           <span class="dt">min_docfreq =</span> <span class="dv">2</span>, <span class="dt">max_docfreq =</span> <span class="dv">10</span>, <span class="dt">docfreq_type =</span> <span class="st">&quot;count&quot;</span>)</a>
<a class="sourceLine" id="cb227-5" data-line-number="5"><span class="kw">class</span>(corp_tw_dfm)</a></code></pre></div>
<pre><code>## [1] &quot;dfm&quot;
## attr(,&quot;package&quot;)
## [1] &quot;quanteda&quot;</code></pre>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb229-1" data-line-number="1">corp_tw_dfm[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a></code></pre></div>
<pre><code>## Document-feature matrix of: 5 documents, 10 features (32.0% sparse).
## 5 x 10 sparse Matrix of class &quot;dfm&quot;
##        features
## docs    中正 國民大會 國父 環境 以及 到 以來 知道 自己 此
##   text1    5        1    3    2    2  1    1    2    1  2
##   text2    4        4    1    1    2  2    0    3    0  0
##   text3    5        1    1    0    0  5    0    4    4  0
##   text4    7        3    7    0    0  0    1    1    2  1
##   text5    5        1    1    0    0  0    0    0    0  3</code></pre>
</div>
<div id="wordcloud-1" class="section level2">
<h2><span class="header-section-number">12.6</span> Wordcloud</h2>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb231-1" data-line-number="1"><span class="kw">require</span>(wordcloud2)</a>
<a class="sourceLine" id="cb231-2" data-line-number="2"><span class="kw">require</span>(wordcloud)</a>
<a class="sourceLine" id="cb231-3" data-line-number="3">top_features &lt;-<span class="st"> </span>corp_tw_dfm <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">topfeatures</span>(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb231-4" data-line-number="4"></a>
<a class="sourceLine" id="cb231-5" data-line-number="5">word_freq &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">word =</span> <span class="kw">names</span>(top_features),</a>
<a class="sourceLine" id="cb231-6" data-line-number="6">                        <span class="dt">freq =</span> top_features)</a>
<a class="sourceLine" id="cb231-7" data-line-number="7"></a>
<a class="sourceLine" id="cb231-8" data-line-number="8">word_freq <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb231-9" data-line-number="9"><span class="st">  </span><span class="kw">wordcloud2</span>()</a></code></pre></div>
<div id="htmlwidget-d87240d6791e1ee00d5a" style="width:672px;height:480px;" class="wordcloud2 html-widget"></div>
<script type="application/json" data-for="htmlwidget-d87240d6791e1ee00d5a">{"x":{"word":["台灣","讓","未來","兩岸","大陸","其","之","及","歷史","臺灣","關係","新政府","最","這個","掌聲","過去","以及","使","合作","各位","已經","民族","應該","個人","改革","會","憲政","為了","大家","司法","於","亦","共匪","對於","因為","參與","沒有","不能","全球","提升","不是","安全","價值","從","推動","環境","三民主義","可以","中正","革命","同時","並","反共","將","此","創造","制度","問題","任何","希望","重要","區域","今日","政策","重建","成為","國人","原則","人權","利益","等","正義","土地","才能","追求","四年","每","組織","成長","奸匪","中華民族","一起","政黨","打造","統一","但","公民","共產","面對","最後","國父","不僅","進步","法治","意志","穩定","人類","把","福祉","再"],"freq":[199,96,65,65,64,56,56,54,52,48,47,45,44,42,41,40,39,39,39,39,38,37,37,36,36,35,33,33,32,32,31,30,30,30,30,30,30,29,29,29,28,28,28,28,28,27,27,27,26,26,26,26,26,26,25,25,25,25,25,25,25,25,24,24,24,24,24,24,24,23,23,23,23,23,23,23,22,22,22,22,22,22,22,22,21,21,21,21,21,21,20,20,20,20,20,20,20,20,20,20],"fontFamily":"Segoe UI","fontWeight":"bold","color":"random-dark","minSize":0,"weightFactor":0.904522613065327,"backgroundColor":"white","gridSize":0,"minRotation":-0.785398163397448,"maxRotation":0.785398163397448,"shuffle":true,"rotateRatio":0.4,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
</div>
<div id="document-similarity-1" class="section level2">
<h2><span class="header-section-number">12.7</span> Document Similarity</h2>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" data-line-number="1">corp_tw_dist &lt;-<span class="st"> </span>corp_tw_dfm <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb232-2" data-line-number="2"><span class="st">  </span><span class="kw">dfm_weight</span>(<span class="dt">scheme =</span> <span class="st">&quot;prop&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb232-3" data-line-number="3"><span class="st">  </span>textstat_dist</a>
<a class="sourceLine" id="cb232-4" data-line-number="4"></a>
<a class="sourceLine" id="cb232-5" data-line-number="5">corp_tw_hist &lt;-<span class="st"> </span>corp_tw_dist <span class="op">%&gt;%</span><span class="st"> </span>as.dist <span class="op">%&gt;%</span><span class="st"> </span>hclust</a>
<a class="sourceLine" id="cb232-6" data-line-number="6"></a>
<a class="sourceLine" id="cb232-7" data-line-number="7">hist_labels &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="kw">docvars</span>(corp_tw_dfm,<span class="st">&quot;YEAR&quot;</span>), <span class="kw">docvars</span>(corp_tw_dfm,<span class="st">&quot;PRESIDENT&quot;</span>), <span class="dt">sep=</span><span class="st">&quot;_&quot;</span>)</a>
<a class="sourceLine" id="cb232-8" data-line-number="8"><span class="kw">plot</span>(corp_tw_hist, <span class="dt">hang =</span> <span class="dv">-1</span>, <span class="dt">cex =</span> <span class="fl">1.2</span>, <span class="dt">label =</span> hist_labels)</a></code></pre></div>
<p><img src="CorpusLinguistics_bookdown_files/figure-html/unnamed-chunk-211-1.png" width="100%" /></p>
</div>
<div id="feature-similarity-1" class="section level2">
<h2><span class="header-section-number">12.8</span> Feature Similarity</h2>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb233-1" data-line-number="1"><span class="co"># convert `dfm` to `fcm`</span></a>
<a class="sourceLine" id="cb233-2" data-line-number="2">corp_tw_fcm &lt;-<span class="st"> </span>corp_tw_dfm <span class="op">%&gt;%</span><span class="st"> </span>fcm</a>
<a class="sourceLine" id="cb233-3" data-line-number="3"><span class="co"># select top 30 features</span></a>
<a class="sourceLine" id="cb233-4" data-line-number="4">corp_tw_topfeatures &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">topfeatures</span>(corp_tw_fcm, <span class="dv">50</span>))</a>
<a class="sourceLine" id="cb233-5" data-line-number="5"><span class="co"># plot network</span></a>
<a class="sourceLine" id="cb233-6" data-line-number="6"><span class="kw">library</span>(showtext)</a>
<a class="sourceLine" id="cb233-7" data-line-number="7"><span class="kw">font_add</span>(<span class="st">&quot;Arial Unicode MS&quot;</span>, <span class="st">&quot;Arial Unicode.ttf&quot;</span>)</a>
<a class="sourceLine" id="cb233-8" data-line-number="8"><span class="co">## Automatically use showtext to render plots</span></a>
<a class="sourceLine" id="cb233-9" data-line-number="9"><span class="kw">showtext_auto</span>(<span class="dt">enable =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb233-10" data-line-number="10"><span class="co">#par(family = &quot;Arial Unicode MS&quot;)</span></a>
<a class="sourceLine" id="cb233-11" data-line-number="11"></a>
<a class="sourceLine" id="cb233-12" data-line-number="12"><span class="kw">fcm_select</span>(corp_tw_fcm, <span class="dt">pattern =</span> corp_tw_topfeatures) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb233-13" data-line-number="13"><span class="st">    </span><span class="kw">textplot_network</span>(<span class="dt">min_freq =</span> <span class="fl">0.5</span>) -&gt;g</a>
<a class="sourceLine" id="cb233-14" data-line-number="14"><span class="kw">ggsave</span>(<span class="st">&quot;test.png&quot;</span>, g)</a></code></pre></div>
<p><img src="test.png" width="80%" /></p>
<hr />

<div class="exercise">
<p><span id="exr:unnamed-chunk-214" class="exercise"><strong>Exercise 12.1  </strong></span>Create the network of top 30 bigrams for the corpus <code>corp_tw</code>. The critera for bigrams selection are as follows:</p>
<ul>
<li>include bigrams whose frequency &gt;= 10 and docfreq &gt;=5
</div></li>
</ul>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["document"],"name":[1],"type":["chr"],"align":["left"]},{"label":["的_新"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["新_時代"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["親愛_的"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["各位_貴賓"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["人民_的"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["副_總統"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["同胞_的"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["的_目標"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["和平_的"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["國家_的"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"text1","2":"0","3":"0","4":"0","5":"0","6":"7","7":"0","8":"1","9":"2","10":"2","11":"6"},{"1":"text2","2":"1","3":"0","4":"0","5":"0","6":"2","7":"0","8":"0","9":"1","10":"1","11":"2"},{"1":"text3","2":"0","3":"0","4":"0","5":"0","6":"1","7":"2","8":"0","9":"2","10":"2","11":"0"},{"1":"text4","2":"2","3":"1","4":"0","5":"0","6":"0","7":"2","8":"0","9":"0","10":"1","11":"0"},{"1":"text5","2":"1","3":"1","4":"0","5":"0","6":"0","7":"1","8":"1","9":"0","10":"0","11":"0"},{"1":"text6","2":"0","3":"0","4":"0","5":"0","6":"0","7":"1","8":"1","9":"1","10":"0","11":"0"},{"1":"text7","2":"0","3":"0","4":"1","5":"0","6":"0","7":"1","8":"0","9":"1","10":"0","11":"1"},{"1":"text8","2":"2","3":"2","4":"1","5":"3","6":"1","7":"1","8":"0","9":"1","10":"1","11":"1"},{"1":"text9","2":"4","3":"1","4":"5","5":"2","6":"1","7":"1","8":"5","9":"0","10":"0","11":"2"},{"1":"text10","2":"3","3":"2","4":"6","5":"1","6":"10","7":"0","8":"0","9":"0","10":"1","11":"5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["document"],"name":[1],"type":["chr"],"align":["left"]},{"label":["的_新"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["新_時代"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["親愛_的"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["各位_貴賓"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["人民_的"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["副_總統"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["同胞_的"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["的_目標"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["和平_的"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["國家_的"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"的_新","2":"19","3":"31","4":"57","5":"30","6":"75","7":"22","8":"26","9":"14","10":"27","11":"91"},{"1":"新_時代","2":"0","3":"8","4":"28","5":"11","6":"41","7":"14","8":"7","9":"8","10":"18","11":"70"},{"1":"親愛_的","2":"0","3":"0","4":"29","5":"29","6":"97","7":"14","8":"29","9":"6","10":"20","11":"88"},{"1":"各位_貴賓","2":"0","3":"0","4":"0","5":"7","6":"38","7":"9","8":"14","9":"7","10":"12","11":"32"},{"1":"人民_的","2":"0","3":"0","4":"0","5":"0","6":"95","7":"19","8":"21","9":"27","10":"57","11":"197"},{"1":"副_總統","2":"0","3":"0","4":"0","5":"0","6":"0","7":"3","8":"8","9":"11","10":"16","11":"40"},{"1":"同胞_的","2":"0","3":"0","4":"0","5":"0","6":"0","7":"0","8":"10","9":"5","10":"5","11":"22"},{"1":"的_目標","2":"0","3":"0","4":"0","5":"0","6":"0","7":"0","8":"0","9":"4","10":"17","11":"34"},{"1":"和平_的","2":"0","3":"0","4":"0","5":"0","6":"0","7":"0","8":"0","9":"0","10":"6","11":"76"},{"1":"國家_的","2":"0","3":"0","4":"0","5":"0","6":"0","7":"0","8":"0","9":"0","10":"0","11":"134"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><img src="test2.png" width="90%" /></p>
<hr />

<div class="exercise">
<span id="exr:unnamed-chunk-216" class="exercise"><strong>Exercise 12.2  </strong></span>There is an interesting application. When we analyze the document similarity, we create the graph of a dendrogram using hierarchical cluster analysis. In fact, document relations can also be represented by a network as well, as we do with the features in <a href="vector-space-representation.html#feature-similarity">11.5.3</a>. How could you make use of the function <code>textplot_network()</code> in quanteda to create a network of the presidents?
Please create a similar president network as shown below.
</div>

<p><img src="CorpusLinguistics_bookdown_files/figure-html/unnamed-chunk-217-1.png" width="672" /></p>

</div>
</div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = "https:\/\/alvinntnu.github.io" + location.pathname;  // Replace PAGE_URL with your page's canonical URL variable
/*
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
*/
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://enc2036.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

          </div>
        </div>
      </div>
<a href="vector-space-representation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
